"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[373],{7231:(e,t,a)=>{a.d(t,{A:()=>s});a(9950);const s=a.p+"static/media/AddiconWhite.5100a9f308c15b352ca926a827147e82.svg"},9780:(e,t,a)=>{a.d(t,{A:()=>s});a(9950);const s=a.p+"static/media/DeleteIcon.5d30c3105e59d4b9bfb1217c2ee2233a.svg"},2637:(e,t,a)=>{a.d(t,{A:()=>s});a(9950);const s=a.p+"static/media/Editicon.a55d5498ee44d9403ea47f9de49231ed.svg"},5916:(e,t,a)=>{a.d(t,{A:()=>s});a(9950);const s=a.p+"static/media/Pendingicon.9fce8210e7d49fa9f6d16cc2cacc6eb1.svg"},3300:(e,t,a)=>{a.d(t,{A:()=>s});a(9950);const s=a.p+"static/media/cancel.e75b17a9b8b64ba1432f663619f1d27a.svg"},7369:(e,t,a)=>{a.d(t,{A:()=>s});a(9950);const s=a.p+"static/media/infoIcon.2cfa5ffa725a303102225c67158761cb.svg"},7227:(e,t,a)=>{a.d(t,{Ax:()=>r,MK:()=>d,Zx:()=>c,lW:()=>n,r6:()=>i});var s=a(5887);a(3325).Buffer;const i=e=>{try{const t=new Date(e),a=t.getDate().toString().padStart(2,"0"),s=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getFullYear();let d=t.getHours();const n=t.getMinutes().toString().padStart(2,"0"),c=t.getSeconds().toString().padStart(2,"0"),r=d>=12?"PM":"AM";d=d%12||12;const l="".concat(a,"-").concat(s,"-").concat(i),o="".concat(d.toString().padStart(2,"0"),":").concat(n,":").concat(c," ").concat(r);return"".concat(l," ").concat(o)}catch(t){return""}};function d(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Obj";const s=new Date(e),i=new Date(t)-s,d=Math.ceil(i/864e5),n=d>0?d-1:0;return"str"===a?d+" Days "+n+" Nights":{days:d,nights:n}}function n(e){navigator.clipboard.writeText(e).then((()=>{console.log("Text copied to clipboard")})).catch((e=>{console.error("Failed to copy text: ",e)}))}const c=e=>{(0,s.Ay)(e,{style:{background:"#02B41F",borderRadius:"5px",fontSize:"14px",padding:"2px",color:"white"},duration:5e3})},r=e=>{(0,s.Ay)(e,{style:{background:"#E90000",borderRadius:"5px",fontSize:"14px",padding:"2px",color:"white"},duration:5e3})}},6373:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var s=a(9950),i=a(2637),d=a(9780);const n=a.p+"static/media/Greencheck.c28f7ee1e8bb8309db0a9be9592a4aa0.svg";var c=a(5916);const r=a.p+"static/media/Erroricon.e2309fd2d220f7d4a0c5461ba4da84f1.svg";var l=a(7231),o=a(1908),p=a(5887),u=a(6435),m=a(7369),x=a(3300),h=a(1395);const g=a.p+"static/media/calenderIcon.db382ba9fdc08d0d05d6e9b5e0763ca5.svg";var b=a(7227),f=a(9749);const j=a.p+"static/media/Pause.ba7dba5dfd60fb644752db016c2281e2.svg";const v=a.p+"static/media/Resume.41070f0b33f53a777054613058a5f1ea.svg";var N=a(4414);const _=e=>{const t={package_name:"",duration:"",pickup_location:"",destination:"",short_description:"",currency:"INR",price:0,included_in_package:["Bus Fair","accomodation"],discount:"",taxes_fee:"",cancellation_terms:"",itinerary:[{day:"Day 1",description:""}],included_item_:"",selcted_categories:[]},[a,_]=(0,s.useState)([]),[y,w]=(0,s.useState)(!1),[F,k]=(0,s.useState)(!1),[A,D]=(0,s.useState)(t),[C,S]=(0,s.useState)({product_service_id:null,time_zone:"IST",start_date:"",start_time:"",end_date:"",end_time:"",location:"",capacity:0}),[E,R]=(0,s.useState)(!1),[B,z]=(0,s.useState)([]),I=(0,s.useRef)(null),[P,O]=(0,s.useState)([]),[L,M]=(0,s.useState)([]),[T,H]=(0,s.useState)({openIndex:void 0,package_to_copy:0,editing_package:!1,editing_package_id:void 0}),[W,Z]=(0,s.useState)({modalOpen:!1,confirmationCallback:()=>{}}),q=(e,t)=>{D({...A,[t]:e})},Q=(e,t)=>{let a=A.itinerary;a.splice(E,1,{...A.itinerary[E],[t]:e}),D({...A,itinerary:a})},U=()=>{(0,o.Si)({}).then((e=>{_(e.data.result.data)})).catch((e=>{(0,p.Ay)(e.response.data.message,{style:{background:"#FFE900",borderRadius:"5px",fontSize:"10px",padding:"2px"},duration:5e3})}))};(0,s.useEffect)((()=>{U(),(0,o.d6)().then((e=>{O(e.data.result)})).catch((e=>{(0,p.Ay)(e.response.data.message,{style:{background:"#FFE900",borderRadius:"5px",fontSize:"10px",padding:"2px"},duration:5e3})}))}),[]),(0,s.useEffect)((()=>{T.package_to_copy>0&&(0,o.xG)(T.package_to_copy).then((e=>{console.log(e),(e=>{if(e.length){let{base_price:t,cancellation_terms:a,currency:s,destination:i,discount:d,duration:n,included_in_package:c,itinerary:r,pickup_location:l,tax_fees:o}=e[0].details;D({package_name:e[0].title,duration:n,included_in_package:c,itinerary:r,pickup_location:l,discount:d,destination:i,cancellation_terms:a,taxes_fee:o,price:t,currency:s,selcted_categories:P.filter((t=>e[0].categories.includes(t.category_id))).map((e=>({label:e.category_name,value:e.category_id}))),short_description:e[0].short_description}),z(e[0].images)}})(e.data.result)}))}),[T.package_to_copy]);const G=(e,t)=>{var s;"deleted"!==(null===(s=a.filter((t=>t.product_service_id===e))[0])||void 0===s?void 0:s.status)&&(0,o.Og)({package_id:[e]}).then((a=>{k(!0),S({...C,package_title:t,product_service_id:e}),M(a.data.result.data)})).catch((e=>{(0,p.Ay)(e.response.data.message,{style:{background:"#FFE900",borderRadius:"5px",fontSize:"10px",padding:"2px"},duration:5e3})}))},K=(e,t)=>{S({...C,[t]:e})},Y=(e,t,a)=>{(0,o.Fs)({product_service_id:a,schedule_id:t,status:e}).then((e=>{(0,p.Ay)(e.data.message,{style:{background:"#02B41F",borderRadius:"5px",fontSize:"14px",padding:"2px",color:"white"},duration:5e3}),G(C.product_service_id,C.package_title)})).catch((e=>{(0,p.Ay)(e.response.data.message,{style:{background:"#FFE900",borderRadius:"5px",fontSize:"10px",padding:"2px"},duration:5e3})}))},J=(e,t)=>{Z({modalOpen:!0,confirmationCallback:()=>{(0,o.I4)({Product_service_id:e,status:t}).then((e=>{(0,b.Zx)(e.data.message),U()})).catch((e=>{(0,b.Ax)(e.response.data.message)}))}})},V=()=>{D(t),H((e=>({...e,editing_package:!1,editing_package_id:0,package_to_copy:0}))),z([])};return(0,N.jsxs)("div",{className:"w-full relative font-roboto flex h-full",children:[(0,N.jsx)(p.l$,{}),(0,N.jsx)("input",{ref:I,onChange:e=>z([...B,...e.target.files]),accept:"image/*",type:"file",className:"hidden"}),(0,N.jsx)(u.A,{open:y,close:()=>{w(!1),V()},closeOnDocumentClick:!1,children:(0,N.jsxs)("div",{className:"w-[80vw] h-[90vh] rounded-md overflow-scroll",children:[(0,N.jsx)("p",{className:"font-RobotoCondensedMedium rounded-t-md mb-2 tracking-wider bg-[#003640] text-white p-2",children:T.editing_package?"Edit Package Wizard":"Create Package Wizard"}),(0,N.jsxs)("div",{className:"w-full flex font-RedHatLight",children:[(0,N.jsxs)("div",{className:"w-3/5 mr-2",children:[!T.editing_package&&(0,N.jsxs)("div",{className:"mb-4 flex justify-between items-center bg-[#F4FBFF] border border-[#A2DDFF] p-2 rounded-md",children:[(0,N.jsxs)("div",{className:"flex",children:[(0,N.jsx)("p",{children:"Copy From"}),(0,N.jsx)("img",{width:"15px",className:"ml-2",src:m.A,alt:"copy from info icon"})]}),(0,N.jsxs)("select",{onChange:e=>H({...T,package_to_copy:e.target.value}),value:T.package_to_copy,className:"w-3/5 bg-[#B9F4FF] h-8 px-2 rounded-md outline-none",children:[(0,N.jsx)("option",{value:void 0,children:"Select Package"}),a.map((e=>(0,N.jsx)("option",{value:e.product_service_id,children:e.title},e.product_service_id)))]})]}),(0,N.jsxs)("div",{className:"w-full flex",children:[(0,N.jsxs)("div",{className:"bg-[#F4FBFF] mr-2 border border-[#A2DDFF] w-1/2 rounded-md p-2",children:[(0,N.jsx)("p",{className:"opacity-60",children:"Package Name"}),(0,N.jsx)("input",{value:A.package_name,onChange:e=>q(e.target.value,"package_name"),type:"text",className:"bg-transparent outline-none font-semibold w-full"})]}),(0,N.jsxs)("div",{className:"bg-[#F4FBFF] ml-2 border border-[#A2DDFF] w-1/2 rounded-md p-2",children:[(0,N.jsx)("p",{className:"opacity-60",children:"Duration (in days)"}),(0,N.jsx)("input",{value:A.duration,onChange:e=>q(e.target.value,"duration"),type:"text",className:"bg-transparent outline-none font-semibold w-full"})]})]}),(0,N.jsxs)("div",{className:"w-full mt-4 flex",children:[(0,N.jsxs)("div",{className:"bg-[#F4FBFF] mr-2 border border-[#A2DDFF] w-1/2 rounded-md p-2",children:[(0,N.jsx)("p",{className:"opacity-60",children:"Pickup Location"}),(0,N.jsx)("input",{value:A.pickup_location,onChange:e=>q(e.target.value,"pickup_location"),type:"text",className:"bg-transparent outline-none font-semibold w-full"})]}),(0,N.jsxs)("div",{className:"bg-[#F4FBFF] ml-2 border border-[#A2DDFF] w-1/2 rounded-md p-2",children:[(0,N.jsx)("p",{className:"opacity-60",children:"Destination"}),(0,N.jsx)("input",{value:A.destination,onChange:e=>q(e.target.value,"destination"),type:"text",className:"bg-transparent outline-none font-semibold w-full"})]})]}),(0,N.jsx)("div",{className:"w-full mt-4 flex",children:(0,N.jsxs)("div",{className:"bg-[#F4FBFF] border border-[#A2DDFF] w-full rounded-md p-2",children:[(0,N.jsx)("p",{className:"opacity-60",children:"package category"}),(0,N.jsx)(h.Ay,{value:A.selcted_categories,onChange:e=>{q(e,"selcted_categories")},styles:{multiValue:e=>({...e,fontSize:"12px"})},isMulti:!0,options:P.map((e=>({value:e.category_id,label:e.category_name})))})]})}),(0,N.jsx)("div",{className:"w-full mt-4 flex",children:(0,N.jsxs)("div",{className:"bg-[#F4FBFF] border border-[#A2DDFF] w-full rounded-md p-2",children:[(0,N.jsx)("p",{className:"opacity-60",children:"Short Description"}),(0,N.jsx)("textarea",{value:A.short_description,onChange:e=>q(e.target.value,"short_description"),type:"text",className:"bg-transparent outline-none font-semibold h-24 w-full"})]})}),(0,N.jsxs)("div",{className:"w-full mt-4",children:[T.editing_package&&(0,N.jsx)("p",{className:"text-xs text-red",children:"Editing package images are not allowed currently"}),(0,N.jsxs)("div",{className:"bg-[#F4FBFF] border flex border-[#A2DDFF] w-full rounded-md p-2",children:[!T.editing_package&&(0,N.jsxs)("div",{onClick:()=>I.current.click(),className:"p-2 w-24 h-24 items-center cursor-pointer rounded-md aspect-square flex flex-col justify-center bg-gradient-to-br from-[#CE4AFD] to-[#10A3FF]",children:[(0,N.jsx)("img",{width:"25px",src:l.A,alt:"add image button"}),(0,N.jsx)("p",{className:"text-white text-sm font-Nunito",children:"Add Image"})]}),(0,N.jsxs)("div",{className:"w-full h-24 flex justify-center overflow-scroll",children:[0===B.length&&(0,N.jsx)("p",{className:"opacity-50",children:"No images"}),B.map(((e,t)=>(0,N.jsxs)("div",{className:"h-full rounded-md aspect-auto relative mx-2 shrink-0",children:[!T.editing_package&&(0,N.jsx)("img",{src:d.A,onClick:e=>z(B.filter(((e,a)=>a!=t))),alt:"image delete icon",width:"20px",className:"absolute border cursor-pointer bg-white border-white"}),(0,N.jsx)("img",{className:"h-full rounded-md aspect-auto",src:"string"===typeof e?e:URL.createObjectURL(e),alt:"gallery image"})]},t)))]})]})]}),(0,N.jsxs)("div",{className:"w-full py-2 px-4 rounded-md bg-[#F4FBFF] border border-[#A2DDFF] mt-4",children:[(0,N.jsx)("p",{children:"Itinerary"}),(0,N.jsx)("div",{className:"w-full mt-2 h-[20vh] overflow-scroll relative",children:A.itinerary.map(((e,t)=>(0,N.jsxs)("div",{className:"w-full mb-2 px-2 py-1 bg-white border border-[#A2DDFF] flex items-center justify-between",children:[(0,N.jsx)("p",{children:e.day}),(0,N.jsxs)("p",{className:"text-sm text-gray-500",children:[e.description.substring(0,10),"..."]}),(0,N.jsxs)("div",{className:"flex",children:[(0,N.jsx)("img",{width:"15px",onClick:()=>R(t),src:i.A,alt:"itinerary edit"}),(0,N.jsx)("img",{width:"15px",onClick:()=>(e=>{let t=A.itinerary;t.splice(e,1),D({...A,itinerary:t})})(t),src:d.A,alt:"itinerary delete"})]})]},t)))}),(0,N.jsx)("button",{onClick:()=>{let e=A.itinerary;e.push({day:"Day",description:""}),D({...A,itinerary:e})},className:"px-2 w-full font-Nunito cursor-pointer mt-2 flex justify-center text-white bg-gradient-to-r from-[#CE4AFD] to-[#10A3FF]",children:"Add Day"})]})]}),(0,N.jsxs)("div",{className:"w-2/5 ml-2",children:[(0,N.jsxs)("div",{className:"w-full py-2 px-4 rounded-md bg-[#F4FBFF] border border-[#A2DDFF]",children:[(0,N.jsx)("p",{className:"mb-2",children:"Pricing"}),(0,N.jsxs)("div",{className:" w-full flex",children:[(0,N.jsxs)("div",{className:"w-2/6 flex mr-1 justify-between bg-white border border-[#A2DDFF] p-2",children:[(0,N.jsx)("p",{className:"font-medium",children:"Currency"}),(0,N.jsx)("select",{className:"outline-none",children:(0,N.jsx)("option",{children:"INR"})})]}),(0,N.jsx)("div",{className:"w-4/6 ml-1 bg-white border border-[#A2DDFF] p-2",children:(0,N.jsx)("input",{value:A.price,onChange:e=>q(e.target.value,"price"),className:"w-full h-full px-2 outline-none",type:"text",placeholder:"Enter price"})})]}),(0,N.jsxs)("div",{className:"w-full bg-white mt-2 border border-[#A2DDFF] p-2",children:[(0,N.jsxs)("div",{className:"flex my-2",children:[(0,N.jsx)("p",{className:"text-sm",children:"Included in package"}),(0,N.jsx)("input",{value:A.included_item_,onChange:e=>q(e.target.value,"included_item_"),type:"text",className:"border-b ml-2 w-1/2 border-b-black outline-none"}),(0,N.jsx)("button",{onClick:()=>{""!==A.included_item_&&D({...A,included_in_package:[...A.included_in_package,A.included_item_],included_item_:""})},className:"bg-[#1E90FF] font-RedHatLight text-xs px-2 text-white rounded-md",children:"Add"})]}),(0,N.jsx)("div",{className:"flex flex-wrap",children:A.included_in_package.map((e=>(0,N.jsxs)("div",{className:"flex m-1 p-2 justify-between rounded-full border border-[#A2DDFF] w-fit ",children:[(0,N.jsx)("p",{className:"text-sm",children:e}),(0,N.jsx)("img",{onClick:()=>{return t=e,void D({...A,included_in_package:A.included_in_package.filter((e=>e!==t))});var t},className:"ml-2",width:"20px",src:x.A})]},e)))})]}),(0,N.jsxs)("div",{className:"flex w-full justify-between bg-white items-center border border-[#A2DDFF] p-2 mt-2",children:[(0,N.jsx)("p",{children:"Discount"}),(0,N.jsx)("input",{value:A.discount,onChange:e=>q(e.target.value,"discount"),type:"text",className:"w-[60%] p-1 outline-none bg-transparent border-b border-black",alt:"discount"})]}),(0,N.jsxs)("div",{className:"flex w-full justify-between bg-white items-center border border-[#A2DDFF] p-2 mt-2",children:[(0,N.jsx)("p",{children:"Taxes and Fees"}),(0,N.jsx)("input",{value:A.taxes_fee,onChange:e=>q(e.target.value,"taxes_fee"),type:"text",className:"w-[60%] p-1 outline-none bg-transparent border-b border-black",alt:"discount"})]}),(0,N.jsxs)("div",{className:"w-full bg-white border border-[#A2DDFF] p-2 mt-2",children:[(0,N.jsx)("p",{children:"Cancellation Terms"}),(0,N.jsx)("textarea",{value:A.cancellation_terms,onChange:e=>q(e.target.value,"cancellation_terms"),type:"text",className:"w-full p-1 outline-none bg-transparent border-b border-black",alt:"discount"})]})]}),!1!==E&&A.itinerary.length>0&&(0,N.jsxs)("div",{className:"w-full py-2 px-4 rounded-md bg-[#F4FBFF] border border-[#A2DDFF] mt-4",children:[(0,N.jsx)("p",{children:"Edit Itinerary"}),(0,N.jsxs)("div",{className:"w-full mt-2 h-[30vh] overflow-scroll relative",children:[(0,N.jsx)("input",{onChange:e=>Q(e.target.value,"day"),value:A.itinerary[E].day,className:"outline-none mb-2 bg-white border border-[#A2DDFF] p-1 rounded-md",placeholder:"day 1"}),(0,N.jsx)("br",{}),(0,N.jsx)("textarea",{onChange:e=>Q(e.target.value,"description"),value:A.itinerary[E].description,className:"outline-none h-4/6 w-full bg-white border border-[#A2DDFF] p-1 rounded-md",placeholder:"description"}),(0,N.jsx)("button",{onClick:()=>R(!1),className:"bg-[#1E90FF] font-RedHatLight text-xs px-6 py-2 text-white rounded-md",children:"Save"})]})]})]})]}),(0,N.jsxs)("div",{className:"w-full my-4 flex justify-end",children:[!T.editing_package&&(0,N.jsx)("button",{className:"font-Nunito mr-2 text-white bg-[#10A3FF] px-6 py-1 rounded-md",children:"Preview"}),!T.editing_package&&(0,N.jsx)("button",{className:"font-Nunito mr-2 text-white bg-[#EF780A] px-6 py-1 rounded-md",children:"Save Draft"}),!T.editing_package&&(0,N.jsx)("button",{onClick:()=>{if(B.length>3)return void(0,b.Ax)("Max 3 images allowed");let e=new FormData;B.forEach((t=>{e.append("images",t)})),e.append("data",JSON.stringify({package_name:A.package_name,status:"active",duration:A.duration,pickup_location:A.pickup_location,destination:A.destination,currency:A.currency,base_price:A.price,discount:A.discount,tax_fees:A.taxes_fee,included_in_package:A.included_in_package,cancellation_terms:A.cancellation_terms,short_description:A.short_description,itinerary:A.itinerary,categories:A.selcted_categories.map((e=>e.value))})),(0,o.Qf)(e).then((e=>{V(),(0,p.Ay)(e.data.message,{style:{background:"#02B41F",borderRadius:"5px",fontSize:"14px",padding:"2px",color:"white"},duration:5e3}),_(e.data.result.data)})).catch((e=>{console.log(e),(0,p.Ay)(e.response.data.message,{style:{background:"#FFE900",borderRadius:"5px",fontSize:"10px",padding:"2px"},duration:5e3})}))},className:"font-Nunito text-white bg-[#02B41F] px-6 py-1 rounded-md",children:"Publish"}),T.editing_package&&T.editing_package_id>0&&(0,N.jsx)("button",{onClick:()=>{(0,o.y6)({product_service_id:T.editing_package_id,package_name:A.package_name,status:"active",duration:A.duration,pickup_location:A.pickup_location,destination:A.destination,currency:A.currency,base_price:A.price,discount:A.discount,tax_fees:A.taxes_fee,included_in_package:A.included_in_package,cancellation_terms:A.cancellation_terms,short_description:A.short_description,itinerary:A.itinerary,categories:A.selcted_categories.map((e=>e.value))}).then((e=>{(0,b.Zx)(e.data.message),U(),H((e=>({...e,openIndex:void 0})))})).catch((e=>{(0,b.Ax)(e.response.data.message)}))},className:"font-Nunito text-white bg-[#02B41F] px-6 py-1 rounded-md",children:"Apply Updates"})]})]})}),(0,N.jsx)(u.A,{open:F,close:()=>{k(!1)},closeOnDocumentClick:!1,children:(0,N.jsxs)("div",{className:"w-[70vw] h-[80vh] rounded-md overflow-scroll",children:[(0,N.jsx)("p",{className:"font-RobotoCondensedMedium rounded-t-md mb-2 tracking-wider bg-[#003640] text-white p-2",children:"Package Schedule wizard"}),(0,N.jsxs)("p",{className:"font-Nunito text-base my-2",children:["Package Name: ",C.package_title]}),(0,N.jsxs)("div",{className:"w-full font-RedHatLight flex",children:[(0,N.jsxs)("div",{className:"w-[60%] mr-2 h-[68vh] bg-[#F4FBFF] p-2 rounded-md border border-[#A2DDFF]",children:[L.filter((e=>"active"===e.status)).length>0&&(0,N.jsx)("div",{className:"flex mb-2 justify-center",children:(0,N.jsx)("p",{className:"text-xs font-RedHatLight",children:"Active Schedules"})}),L&&L.filter((e=>"active"===e.status)).map((e=>(0,N.jsxs)("div",{className:"w-full flex justify-between items-center bg-[#F1FFF3] border mt-2 p-2 border-[#02B41F] rounded-xl",children:[(0,N.jsx)("div",{className:"max-w-[25%] flex py-1 px-2 rounded-full bg-white w-8",children:(0,N.jsx)("img",{src:n})}),(0,N.jsxs)("div",{className:"text-xs ml-2",children:[(0,N.jsxs)("p",{className:"pb-2",children:["Start ",(0,N.jsx)("span",{className:"font-Nunito",children:(0,b.r6)(e.start_time)})]}),(0,N.jsxs)("p",{className:"pt-2",children:["End ",(0,N.jsx)("span",{className:"font-Nunito",children:(0,b.r6)(e.end_time)})]})]}),(0,N.jsxs)("div",{className:"text-xs ml-2",children:[(0,N.jsxs)("p",{className:"pb-2",children:["Capacity ",(0,N.jsx)("span",{className:"font-Nunito",children:e.capacity})]}),(0,N.jsxs)("p",{className:"pt-2",children:["Available ",(0,N.jsx)("span",{className:"font-Nunito",children:e.availability})]})]}),(0,N.jsx)("button",{onClick:()=>Y("cancelled",e.schedule_id,e.product_service_id),className:"flex items-center bg-[#E90000] text-white font-Nunito px-4 rounded-md justify-between",children:"cancel"})]}))),L.filter((e=>"cancelled"===e.status)).length>0&&(0,N.jsx)("div",{className:"flex my-2 justify-center",children:(0,N.jsx)("p",{className:"text-xs font-RedHatLight",children:"Cancelled Schedules"})}),L&&L.filter((e=>"cancelled"===e.status)).map((e=>(0,N.jsxs)("div",{className:"w-full flex justify-between items-center bg-[#FFF0F0] border mt-2 p-2 border-[#E90000] rounded-xl",children:[(0,N.jsx)("div",{className:" flex py-1 px-2 rounded-full bg-white w-8",children:(0,N.jsx)("img",{src:r})}),(0,N.jsxs)("div",{className:"text-xs ml-2",children:[(0,N.jsxs)("p",{className:"pb-2",children:["Start ",(0,N.jsx)("span",{className:"font-Nunito",children:(0,b.r6)(e.start_time)})]}),(0,N.jsxs)("p",{className:"pt-2",children:["End ",(0,N.jsx)("span",{className:"font-Nunito",children:(0,b.r6)(e.end_time)})]})]}),(0,N.jsxs)("div",{className:"text-xs ml-2",children:[(0,N.jsxs)("p",{className:"pb-2",children:["Capacity ",(0,N.jsx)("span",{className:"font-Nunito",children:e.capacity})]}),(0,N.jsxs)("p",{className:"pt-2",children:["Available ",(0,N.jsx)("span",{className:"font-Nunito",children:e.availability})]})]}),(0,N.jsx)("button",{onClick:()=>Y("active",e.schedule_id,e.product_service_id),className:"flex items-center bg-[#02B41F] text-white font-Nunito px-4 rounded-md justify-between",children:"activate"})]})))]}),(0,N.jsxs)("div",{className:"w-[40%] p-2 ml-2 h-[68vh] bg-[#F4FBFF] rounded-md border border-[#A2DDFF]",children:[(0,N.jsx)("p",{className:"py-2",children:"Schedule"}),(0,N.jsxs)("div",{className:"w-full flex bg-white border border-[#A2DDFF] rounded-md py-1 px-2",children:[(0,N.jsx)("p",{className:"w-1/2",children:"Time Zone"}),(0,N.jsx)("select",{className:"w-1/2 outline-none",children:(0,N.jsx)("option",{children:"IST"})})]}),(0,N.jsxs)("div",{className:"w-full mt-2 flex bg-white border border-[#A2DDFF] rounded-md  py-1 px-2",children:[(0,N.jsx)("p",{className:"w-1/2",children:"Start Date"}),(0,N.jsx)("input",{onChange:e=>K(e.target.value,"start_date"),value:C.start_date,type:"date",className:"w-1/2 outline-none"})]}),(0,N.jsxs)("div",{className:"w-full mt-2 flex bg-white border border-[#A2DDFF] rounded-md  py-1 px-2",children:[(0,N.jsx)("p",{className:"w-1/2",children:"Start Time"}),(0,N.jsx)("input",{onChange:e=>K(e.target.value,"start_time"),value:C.start_time,type:"time",className:"w-1/2 outline-none"})]}),(0,N.jsxs)("div",{className:"w-full mt-2 flex bg-white border border-[#A2DDFF] rounded-md  py-1 px-2",children:[(0,N.jsx)("p",{className:"w-1/2",children:"End Date"}),(0,N.jsx)("input",{onChange:e=>K(e.target.value,"end_date"),value:C.end_date,type:"date",className:"w-1/2 outline-none"})]}),(0,N.jsxs)("div",{className:"w-full mt-2 flex bg-white border border-[#A2DDFF] rounded-md  py-1 px-2",children:[(0,N.jsx)("p",{className:"w-1/2",children:"End Time"}),(0,N.jsx)("input",{onChange:e=>K(e.target.value,"end_time"),value:C.end_time,type:"time",className:"w-1/2 outline-none"})]}),(0,N.jsxs)("div",{className:"w-full mt-2 flex bg-white border border-[#A2DDFF] rounded-md  py-1 px-2",children:[(0,N.jsx)("p",{className:"w-1/2",children:"Capacity"}),(0,N.jsx)("input",{onChange:e=>K(e.target.value,"capacity"),value:C.capacity,type:"number",className:"w-1/2 outline-none border-b border-[#A2DDFF]"})]}),(0,N.jsxs)("div",{className:"w-full mt-2 flex bg-white border border-[#A2DDFF] rounded-md  py-1 px-2",children:[(0,N.jsx)("p",{className:"w-1/2",children:"Location"}),(0,N.jsx)("input",{onChange:e=>K(e.target.value,"location"),value:C.location,type:"location",className:"w-1/2 outline-none border-b border-[#A2DDFF]"})]}),(0,N.jsx)("button",{onClick:()=>{(0,o.sF)({schedules:[{product_service_id:C.product_service_id,start_datetime:"".concat(C.start_date,"T").concat(C.start_time),end_datetime:"".concat(C.end_date,"T").concat(C.end_time),capacity:C.capacity,availability:C.capacity,location:C.location,status:"active",time_zone:"Asia/Kolkata"}]}).then((e=>{(0,p.Ay)(e.data.message,{style:{background:"#02B41F",borderRadius:"5px",fontSize:"14px",padding:"2px",color:"white"},duration:5e3}),G(C.product_service_id,C.package_title)})).catch((e=>{(0,p.Ay)(e.response.data.message,{style:{background:"#FFE900",borderRadius:"5px",fontSize:"10px",padding:"2px"},duration:5e3})}))},className:"font-Nunito bg-gradient-to-br from-[#CE4AFD] to-[#10A3FF] text-white w-full py-1 rounded-full mt-4",children:"Create Schedule"})]})]})]})}),(0,N.jsx)(u.A,{open:W.modalOpen,close:()=>{Z({...W,modalOpen:!1})},closeOnDocumentClick:!0,children:(0,N.jsxs)("div",{className:"p-4",children:[(0,N.jsx)("p",{children:"You're Changing Status of package, This might affect public visibility of your packages !!"}),(0,N.jsxs)("div",{className:"w-full mt-8 flex justify-evenly",onClick:()=>Z({...W,modalOpen:!1}),children:[(0,N.jsx)("button",{className:"px-6 py-1 bg-stone-800 text-white rounded-md",onClick:()=>{W.confirmationCallback()},children:"Confirm"}),(0,N.jsx)("button",{className:"px-6 py-1 border border-stone-800 rounded-md",children:"Cancel"})]})]})}),(0,N.jsxs)("div",{className:"w-3/5 p-2",children:[(0,N.jsx)("input",{type:"text",alt:"serach bar",placeholder:"Search packages",className:"w-full px-4 py-2 mb-2 text-base rounded-full outline-none border border-[#A2DDFF] placeholder:opacity-70"}),(0,N.jsxs)("div",{className:"flex ",children:[(0,N.jsx)("a",{href:"/business/".concat(String(f.A.getState().businessState.business_name).replace(/ /g,"-"),"/packages"),target:"_blank",className:"text-[#6C757D] font-RedHatLight",children:"Public Link "}),(0,N.jsx)("img",{onClick:e=>(0,b.lW)(window.location.origin+"/business/".concat(String(f.A.getState().businessState.business_name).replace(/ /g,"-"),"/packages")),className:"bg-black p-1 mx-4 rounded-md aspect-square",width:"25px",src:"https://penguinduo.com/Blog/assets/copy.svg",alt:"copy sharable link"})]}),a.map(((e,t)=>(0,N.jsxs)("div",{onClick:()=>H((e=>({...e,openIndex:t}))),style:"active"===e.status?{backgroundColor:"#F1FFF3",borderColor:"#02B41F"}:"pending"===e.status?{backgroundColor:"#FEF6EF",borderColor:"#EF780A"}:{backgroundColor:"#FFF0F0",borderColor:"#E90000"},className:"flex items-center mt-2 h-fit justify-between rounded-xl border",children:[(0,N.jsxs)("div",{className:"flex justify-between items-center w-3/4 py-2 px-4",children:[(0,N.jsx)("p",{className:"w-3/5",children:e.title}),(0,N.jsxs)("div",{className:"flex items-center justify-start bg-white rounded-full px-2 py-1 w-28 border border-stone-200",children:[(0,N.jsx)("img",{src:"active"===e.status?n:"deleted"===e.status?r:c.A,alt:"package Status Icon",className:"mr-2"}),(0,N.jsx)("p",{className:"font-light font-Nunito",children:e.status})]})]}),T.openIndex===t&&(0,N.jsxs)("div",{className:"py-2 px-4 w-1/4 items-stretch h-full border-l border-slate-300",children:[(0,N.jsx)("p",{className:"text-xs w-full text-center mb-2",children:"Quick Actions"}),(0,N.jsxs)("div",{className:"flex justify-evenly w-full",children:[(0,N.jsxs)("div",{className:"text-xs",children:[(0,N.jsx)("img",{onClick:()=>G(e.product_service_id,e.title),className:"p-2 scale-75 border border-stone-300 cursor-pointer bg-white rounded-md",src:g,alt:"package schedule"}),(0,N.jsx)("p",{className:"text-center",children:"Schedule"})]}),(0,N.jsxs)("div",{className:"text-xs",children:[(0,N.jsx)("img",{onClick:t=>{return a=e.product_service_id,H((e=>({...e,editing_package_id:a,package_to_copy:a,editing_package:!0}))),void w(!0);var a},className:"p-2 scale-75 border border-stone-300 cursor-pointer bg-white rounded-md",src:i.A,alt:"package edit"}),(0,N.jsx)("p",{className:"text-center",children:"Edit"})]})]}),(0,N.jsxs)("div",{className:"flex justify-evenly w-full mt-2",children:["active"!==e.status&&(0,N.jsxs)("div",{className:"text-xs",children:[(0,N.jsx)("img",{onClick:()=>J(e.product_service_id,"active"),className:"p-2 scale-75 border border-stone-300 cursor-pointer mr-2 bg-white rounded-md",src:v,alt:"package schedule"}),(0,N.jsx)("p",{className:"text-center",children:"Activate"})]}),"pending"!==e.status&&(0,N.jsxs)("div",{className:"text-xs",children:[(0,N.jsx)("img",{onClick:()=>J(e.product_service_id,"pending"),className:"p-2 scale-75 border border-stone-300 cursor-pointer mr-2 bg-white rounded-md",src:j,alt:"package edit"}),(0,N.jsx)("p",{className:"text-center",children:"Pause"})]}),"deleted"!==e.status&&(0,N.jsxs)("div",{className:"text-xs",children:[(0,N.jsx)("img",{onClick:()=>J(e.product_service_id,"deleted"),className:"p-2 scale-75 border border-stone-300 cursor-pointer bg-white rounded-md",src:d.A,alt:"package delete"}),(0,N.jsx)("p",{className:"text-center",children:"Delete"})]})]})]})]},e.product_service_id)))]}),(0,N.jsxs)("div",{className:"w-2/5 p-2",children:[(0,N.jsx)("div",{className:"w-full h-[40vh] bg-white rounded-md border border-[#A2DDFF]",children:(0,N.jsx)("p",{className:"bg-[#003640] w-full p-2 font-RobotoCondensedMedium tracking-wider text-sm text-white rounded-t-md",children:"Package Insights"})}),(0,N.jsx)("div",{className:"w-full h-[50vh] bg-white mt-2 rounded-md border border-[#A2DDFF]",children:(0,N.jsx)("p",{className:"bg-[#003640] w-full p-2 font-RobotoCondensedMedium tracking-wider text-sm text-white rounded-t-md",children:"Customer Queries"})})]}),!y&&(0,N.jsxs)("div",{onClick:()=>w(!0),className:"w-28 absolute z-10 right-0 bottom-0 cursor-pointer hover:shadow-xl rounded-xl flex flex-col text-white justify-center items-center aspect-square bg-gradient-to-br from-[#CE4AFD] to-[#10A3FF]",children:[(0,N.jsx)("img",{src:l.A,alt:"add package",className:""}),(0,N.jsx)("p",{className:"font-Nunito font-semibold mt-2",children:"Add Package"})]})]})}},6435:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(9950),i=a(3300),d=a(4414);const n=e=>{const[t,a]=(0,s.useState)({...e});return(0,d.jsx)("div",{id:"backdrop",onClick:t=>{t.preventDefault(),!1!==e.closeOnDocumentClick&&"backdrop"===t.target.id&&e.close()},style:{display:e.open?"inherit":"none"},className:"fixed z-10 left-0 top-0 w-[100vw] h-[100vh] bg-[#1b1818c7] flex justify-center items-center",children:(0,d.jsxs)("section",{className:"fixed h-auto min-w-[20vw] bg-white rounded-lg p-4 ",children:[(0,d.jsx)("div",{onClick:e.close,className:"mobile:hidden mobile:-top-10 absolute p-2 bg-slate-300 rounded-full -top-6 -right-6 hover:scale-105 border border-dotted border-black",children:(0,d.jsx)("img",{className:"",width:"",src:i.A,alt:"modal Close Btn"})}),s.Children.map(e.children,(t=>s.cloneElement(t,e)))]})})}}}]);