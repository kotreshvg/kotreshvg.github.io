"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[373],{7231:(e,a,t)=>{t.d(a,{A:()=>s});t(9950);const s=t.p+"static/media/AddiconWhite.5100a9f308c15b352ca926a827147e82.svg"},9780:(e,a,t)=>{t.d(a,{A:()=>s});t(9950);const s=t.p+"static/media/DeleteIcon.5d30c3105e59d4b9bfb1217c2ee2233a.svg"},2637:(e,a,t)=>{t.d(a,{A:()=>s});t(9950);const s=t.p+"static/media/Editicon.a55d5498ee44d9403ea47f9de49231ed.svg"},5916:(e,a,t)=>{t.d(a,{A:()=>s});t(9950);const s=t.p+"static/media/Pendingicon.9fce8210e7d49fa9f6d16cc2cacc6eb1.svg"},3300:(e,a,t)=>{t.d(a,{A:()=>s});t(9950);const s=t.p+"static/media/cancel.e75b17a9b8b64ba1432f663619f1d27a.svg"},7369:(e,a,t)=>{t.d(a,{A:()=>s});t(9950);const s=t.p+"static/media/infoIcon.2cfa5ffa725a303102225c67158761cb.svg"},7227:(e,a,t)=>{t.d(a,{Ax:()=>c,MK:()=>n,Zx:()=>d,lW:()=>r,r6:()=>i});var s=t(5887);t(3325).Buffer;const i=e=>{try{const a=new Date(e),t=a.getDate().toString().padStart(2,"0"),s=(a.getMonth()+1).toString().padStart(2,"0"),i=a.getFullYear();let n=a.getHours();const r=a.getMinutes().toString().padStart(2,"0"),d=a.getSeconds().toString().padStart(2,"0"),c=n>=12?"PM":"AM";n=n%12||12;const l="".concat(t,"-").concat(s,"-").concat(i),o="".concat(n.toString().padStart(2,"0"),":").concat(r,":").concat(d," ").concat(c);return"".concat(l," ").concat(o)}catch(a){return""}};function n(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Obj";const s=new Date(e),i=new Date(a)-s,n=Math.ceil(i/864e5),r=n>0?n-1:0;return"str"===t?n+" Days "+r+" Nights":{days:n,nights:r}}function r(e){navigator.clipboard.writeText(e).then((()=>{console.log("Text copied to clipboard")})).catch((e=>{console.error("Failed to copy text: ",e)}))}const d=e=>{(0,s.Ay)(e,{style:{background:"#02B41F",borderRadius:"5px",fontSize:"14px",padding:"2px",color:"white"},duration:5e3})},c=e=>{(0,s.Ay)(e,{style:{background:"#E90000",borderRadius:"5px",fontSize:"14px",padding:"2px",color:"white"},duration:5e3})}},6373:(e,a,t)=>{t.r(a),t.d(a,{default:()=>N});var s=t(9950),i=t(2637),n=t(9780);const r=t.p+"static/media/Greencheck.c28f7ee1e8bb8309db0a9be9592a4aa0.svg";var d=t(5916);const c=t.p+"static/media/Erroricon.e2309fd2d220f7d4a0c5461ba4da84f1.svg";var l=t(7231),o=t(1908),p=t(5887),u=t(6435),m=t(7369),h=t(3300),x=t(1395);const g=t.p+"static/media/calenderIcon.db382ba9fdc08d0d05d6e9b5e0763ca5.svg";var b=t(7227),f=t(9749);const j=t.p+"static/media/Pause.ba7dba5dfd60fb644752db016c2281e2.svg";const _=t.p+"static/media/Resume.41070f0b33f53a777054613058a5f1ea.svg";var v=t(7956),y=t(4414);const N=e=>{var a,t,N,w,F;const k={package_name:"",duration:"",pickup_location:"",destination:"",short_description:"",currency:"INR",price:0,included_in_package:["Bus Fair","accomodation"],discount:"",taxes_fee:"",cancellation_terms:"",itinerary:[{day:"Day 1",description:""}],included_item_:"",selcted_categories:[],accommodation_sharing:!1,accomodation_sharing_options:[]},[D,A]=(0,s.useState)([]),[C,S]=(0,s.useState)(!1),[E,R]=(0,s.useState)(!1),[B,I]=(0,s.useState)(k),[P,z]=(0,s.useState)({product_service_id:null,time_zone:"IST",start_date:"",start_time:"",end_date:"",end_time:"",location:"",capacity:0}),[O,L]=(0,s.useState)(!1),[T,U]=(0,s.useState)([]),M=(0,s.useRef)(null),[$,H]=(0,s.useState)([]),[q,W]=(0,s.useState)([]),[Z,G]=(0,s.useState)({openIndex:void 0,package_to_copy:0,editing_package:!1,editing_package_id:void 0,display_sharinginfo_modal:!1,package_search_str:""}),[V,K]=(0,s.useState)({modalOpen:!1,confirmationCallback:()=>{}}),Q=(e,a)=>{I({...B,[a]:e})},Y=()=>{""!==B.included_item_&&I({...B,included_in_package:[...B.included_in_package,B.included_item_],included_item_:""})},J=(e,a)=>{let t=B.itinerary;t.splice(O,1,{...B.itinerary[O],[a]:e}),I({...B,itinerary:t})},X=()=>{(0,o.Si)({}).then((e=>{A(e.data.result.data)})).catch((e=>{(0,p.Ay)(e.response.data.message,{style:{background:"#FFE900",borderRadius:"5px",fontSize:"10px",padding:"2px"},duration:5e3})}))};(0,s.useEffect)((()=>{X(),(0,o.d6)().then((e=>{H(e.data.result)})).catch((e=>{(0,p.Ay)(e.response.data.message,{style:{background:"#FFE900",borderRadius:"5px",fontSize:"10px",padding:"2px"},duration:5e3})}))}),[]),(0,s.useEffect)((()=>{Z.package_to_copy>0&&(0,o.xG)(Z.package_to_copy).then((e=>{(e=>{if(e.length){let{base_price:a,cancellation_terms:t,currency:s,destination:i,discount:n,duration:r,included_in_package:d,itinerary:c,pickup_location:l,tax_fees:o,accommodation_sharing:p,accomodation_sharing_options:u}=e[0].details;I({package_name:e[0].title,duration:r,included_in_package:d,itinerary:c,pickup_location:l,discount:n,destination:i,cancellation_terms:t,taxes_fee:o,price:a,currency:s,selcted_categories:$.filter((a=>e[0].categories.includes(a.category_id))).map((e=>({label:e.category_name,value:e.category_id}))),short_description:e[0].short_description,accommodation_sharing:p||!1,accomodation_sharing_options:u||[]}),Z.editing_package&&U(e[0].images)}})(e.data.result)}))}),[Z.package_to_copy]);const ee=(e,a)=>{var t;"deleted"!==(null===(t=D.filter((a=>a.product_service_id===e))[0])||void 0===t?void 0:t.status)&&(0,o.Og)({package_id:[e]}).then((t=>{R(!0),z({...P,package_title:a,product_service_id:e}),W(t.data.result.data)})).catch((e=>{(0,p.Ay)(e.response.data.message,{style:{background:"#FFE900",borderRadius:"5px",fontSize:"10px",padding:"2px"},duration:5e3})}))},ae=(e,a)=>{z({...P,[a]:e})},te=(e,a,t)=>{(0,o.Fs)({product_service_id:t,schedule_id:a,status:e}).then((e=>{(0,p.Ay)(e.data.message,{style:{background:"#02B41F",borderRadius:"5px",fontSize:"14px",padding:"2px",color:"white"},duration:5e3}),ee(P.product_service_id,P.package_title)})).catch((e=>{(0,p.Ay)(e.response.data.message,{style:{background:"#FFE900",borderRadius:"5px",fontSize:"10px",padding:"2px"},duration:5e3})}))},se=(e,a)=>{K({modalOpen:!0,confirmationCallback:()=>{(0,o.I4)({Product_service_id:e,status:a}).then((e=>{(0,b.Zx)(e.data.message),X()})).catch((e=>{(0,b.Ax)(e.response.data.message)}))}})},ie=()=>{I(k),G((e=>({...e,editing_package:!1,editing_package_id:0,package_to_copy:0}))),U([])},ne=(e,a,t)=>{let s=B.accomodation_sharing_options;s.splice(e,1,{...B.accomodation_sharing_options[e],[a]:t}),I((e=>({...e,accomodation_sharing_options:s})))};return(0,y.jsxs)("div",{className:"w-full relative font-roboto flex h-full",children:[(0,y.jsx)(p.l$,{}),(0,y.jsx)("input",{ref:M,onChange:e=>U([...T,...e.target.files]),accept:"image/*",type:"file",className:"hidden"}),(0,y.jsx)(u.A,{open:C,close:()=>{S(!1),ie()},closeOnDocumentClick:!1,children:(0,y.jsxs)("div",{className:"w-[80vw] h-[90vh] rounded-md overflow-scroll",children:[(0,y.jsx)("p",{className:"font-RobotoCondensedMedium rounded-t-md mb-2 tracking-wider bg-[#003640] text-white p-2",children:Z.editing_package?"Edit Package Wizard":"Create Package Wizard"}),(0,y.jsxs)("div",{className:"w-full flex font-RedHatLight",children:[(0,y.jsxs)("div",{className:"w-3/5 mr-2",children:[!Z.editing_package&&(0,y.jsxs)("div",{className:"mb-4 flex justify-between items-center bg-[#F4FBFF] border border-[#A2DDFF] p-2 rounded-md",children:[(0,y.jsxs)("div",{className:"flex",children:[(0,y.jsx)("p",{children:"Copy From"}),(0,y.jsx)("img",{width:"15px",className:"ml-2",src:m.A,alt:"copy from info icon"})]}),(0,y.jsxs)("select",{onChange:e=>G({...Z,package_to_copy:e.target.value}),value:Z.package_to_copy,className:"w-3/5 bg-[#B9F4FF] h-8 px-2 rounded-md outline-none",children:[(0,y.jsx)("option",{value:void 0,children:"Select Package"}),D.map((e=>(0,y.jsx)("option",{value:e.product_service_id,children:e.title},e.product_service_id)))]})]}),(0,y.jsxs)("div",{className:"w-full flex",children:[(0,y.jsxs)("div",{className:"bg-[#F4FBFF] mr-2 border border-[#A2DDFF] w-1/2 rounded-md p-2",children:[(0,y.jsx)("p",{className:"opacity-60",children:"Package Name"}),(0,y.jsx)("input",{value:B.package_name,onChange:e=>Q(e.target.value,"package_name"),type:"text",className:"bg-transparent outline-none font-semibold w-full"})]}),(0,y.jsxs)("div",{className:"bg-[#F4FBFF] ml-2 border border-[#A2DDFF] w-1/2 rounded-md p-2",children:[(0,y.jsx)("p",{className:"opacity-60",children:"Duration (in days)"}),(0,y.jsx)("input",{value:B.duration,onChange:e=>Q(e.target.value,"duration"),type:"text",className:"bg-transparent outline-none font-semibold w-full"})]})]}),(0,y.jsxs)("div",{className:"w-full mt-4 flex",children:[(0,y.jsxs)("div",{className:"bg-[#F4FBFF] mr-2 border border-[#A2DDFF] w-1/2 rounded-md p-2",children:[(0,y.jsx)("p",{className:"opacity-60",children:"Pickup Location"}),(0,y.jsx)("input",{value:B.pickup_location,onChange:e=>Q(e.target.value,"pickup_location"),type:"text",className:"bg-transparent outline-none font-semibold w-full"})]}),(0,y.jsxs)("div",{className:"bg-[#F4FBFF] ml-2 border border-[#A2DDFF] w-1/2 rounded-md p-2",children:[(0,y.jsx)("p",{className:"opacity-60",children:"Destination"}),(0,y.jsx)("input",{value:B.destination,onChange:e=>Q(e.target.value,"destination"),type:"text",className:"bg-transparent outline-none font-semibold w-full"})]})]}),(0,y.jsx)("div",{className:"w-full mt-4 flex",children:(0,y.jsxs)("div",{className:"bg-[#F4FBFF] border border-[#A2DDFF] w-full rounded-md p-2",children:[(0,y.jsx)("p",{className:"opacity-60",children:"package category"}),(0,y.jsx)(x.Ay,{value:B.selcted_categories,onChange:e=>{Q(e,"selcted_categories")},styles:{multiValue:e=>({...e,fontSize:"12px"})},isMulti:!0,options:$.map((e=>({value:e.category_id,label:e.category_name})))})]})}),(0,y.jsx)("div",{className:"w-full mt-4 flex",children:(0,y.jsxs)("div",{className:"bg-[#F4FBFF] border border-[#A2DDFF] w-full rounded-md p-2",children:[(0,y.jsx)("p",{className:"opacity-60",children:"Short Description"}),(0,y.jsx)("textarea",{value:B.short_description,onChange:e=>Q(e.target.value,"short_description"),type:"text",className:"bg-transparent outline-none font-semibold h-24 w-full"}),(0,y.jsxs)("p",{className:"text-xs text-stone-500 float-right",children:[null===(a=B.short_description)||void 0===a?void 0:a.length," / 500"]})]})}),(0,y.jsxs)("div",{className:"w-full mt-4",children:[Z.editing_package&&(0,y.jsx)("p",{className:"text-xs text-red",children:"Editing package images are not allowed currently"}),(0,y.jsxs)("div",{className:"bg-[#F4FBFF] border flex border-[#A2DDFF] w-full rounded-md p-2",children:[!Z.editing_package&&(0,y.jsxs)("div",{onClick:()=>M.current.click(),className:"p-2 w-24 h-24 items-center cursor-pointer rounded-md aspect-square flex flex-col justify-center bg-gradient-to-br from-[#CE4AFD] to-[#10A3FF]",children:[(0,y.jsx)("img",{width:"25px",src:l.A,alt:"add image button"}),(0,y.jsx)("p",{className:"text-white text-sm font-Nunito",children:"Add Image"})]}),(0,y.jsxs)("div",{className:"w-full h-24 flex justify-center overflow-scroll",children:[0===T.length&&(0,y.jsx)("p",{className:"opacity-50",children:"No images"}),T.map(((e,a)=>(0,y.jsxs)("div",{className:"h-full rounded-md aspect-auto relative mx-2 shrink-0",children:[!Z.editing_package&&(0,y.jsx)("img",{src:n.A,onClick:e=>U(T.filter(((e,t)=>t!=a))),alt:"image delete icon",width:"20px",className:"absolute border cursor-pointer bg-white border-white"}),(0,y.jsx)("img",{className:"h-full rounded-md aspect-auto",src:"string"===typeof e?e:URL.createObjectURL(e),alt:"gallery image"})]},a)))]})]})]}),(0,y.jsxs)("div",{className:"w-full py-2 px-4 rounded-md bg-[#F4FBFF] border border-[#A2DDFF] mt-4",children:[(0,y.jsx)("p",{children:"Itinerary"}),(0,y.jsx)("div",{className:"w-full mt-2 h-[20vh] overflow-scroll relative",children:B.itinerary.map(((e,a)=>(0,y.jsxs)("div",{className:"w-full mb-2 rounded-md h-8 bg-white border border-[#A2DDFF] flex items-center justify-between",children:[(0,y.jsx)("p",{className:"ml-2",children:e.day}),(0,y.jsxs)("p",{className:"text-sm text-gray-500",children:[e.description.substring(0,10),"..."]}),(0,y.jsxs)("div",{className:"flex bg-stone-100 justify-evenly h-full rounded-r w-1/12 pl-2",children:[(0,y.jsx)("img",{width:"15px",onClick:()=>L(a),src:i.A,alt:"itinerary edit"}),(0,y.jsx)("img",{width:"15px",onClick:()=>(e=>{let a=B.itinerary;a.splice(e,1),I({...B,itinerary:a})})(a),src:n.A,alt:"itinerary delete"})]})]},a)))}),(0,y.jsx)("button",{onClick:()=>{let e=B.itinerary;e.push({day:"Day",description:""}),I({...B,itinerary:e})},className:"px-2 rounded-md w-full font-Nunito cursor-pointer mt-2 flex justify-center text-white bg-gradient-to-r from-[#CE4AFD] to-[#10A3FF]",children:"Add Day"})]})]}),(0,y.jsxs)("div",{className:"w-2/5 ml-2",children:[(0,y.jsxs)("div",{className:"w-full py-2 px-4 rounded-md bg-[#F4FBFF] border border-[#A2DDFF]",children:[(0,y.jsx)("p",{className:"mb-2",children:"Pricing"}),(0,y.jsxs)("div",{className:" w-full flex",children:[(0,y.jsxs)("div",{className:"w-2/6 flex mr-1 justify-between bg-white border border-[#A2DDFF] p-2",children:[(0,y.jsx)("p",{className:"font-medium",children:"Currency"}),(0,y.jsx)("select",{className:"outline-none",children:(0,y.jsx)("option",{children:"INR"})})]}),(0,y.jsx)("div",{className:"w-4/6 ml-1 bg-white border border-[#A2DDFF] p-2",children:(0,y.jsx)("input",{value:B.price,onChange:e=>Q(e.target.value,"price"),className:"w-full h-full px-2 outline-none",type:"text",placeholder:"Enter price"})})]}),(0,y.jsxs)("div",{className:" w-full bg-white h-fit mt-2 border border-[#A2DDFF] p-2",children:[(0,y.jsxs)("div",{className:"flex justify-between",children:[(0,y.jsx)("p",{children:"Enable Accomodation Sharing"}),(0,y.jsx)("img",{src:m.A,onClick:e=>G({...Z,display_sharinginfo_modal:!0}),className:"opacity-60 w-4 mr-auto ml-2"}),(0,y.jsxs)("div",{onClick:e=>I({...B,accommodation_sharing:!B.accommodation_sharing}),className:"w-16 cursor-pointer rounded-full border border-[#A2DDFF] flex h-6 items-center justify-between",children:[0==B.accommodation_sharing&&(0,y.jsx)("div",{className:"h-full aspect-square rounded-full bg-gradient-to-br from-stone-300 to-stone-400"}),(0,y.jsx)("p",{className:"text-xs mx-2 text-stone-500",children:B.accommodation_sharing?"On":"Off"}),B.accommodation_sharing&&(0,y.jsx)("div",{className:"h-full aspect-square rounded-full bg-gradient-to-br from-[#CE4AFD] to-[#10A3FF]"})]})]}),B.accommodation_sharing&&(0,y.jsxs)("div",{className:"w-full p-2 h-32 mt-4 text-sm rounded-md bg-stone-100 grid grid-cols-[4fr_3fr_1fr] grid-rows-[1.5rem] gap-2 overflow-scroll",children:[(0,y.jsx)("p",{className:"",children:"Sharing Mode"}),(0,y.jsx)("div",{className:"flex justify-start",children:(0,y.jsx)("p",{className:"",children:"Additional Price"})}),(0,y.jsx)("div",{}),B.accomodation_sharing_options.length>0&&B.accomodation_sharing_options.map(((e,a)=>(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("input",{id:e.id,value:e.sharing_mode,onChange:e=>ne(a,"sharing_mode",e.target.value),className:"rounded-md outline-none pl-2 h-8 bg-white",placeholder:"Double sharing"}),(0,y.jsx)("input",{value:e.additional_Price,onChange:e=>ne(a,"additional_Price",e.target.value),className:"rounded-md outline-none pl-2 h-8 bg-white",placeholder:"500"}),(0,y.jsx)("img",{src:n.A,onClick:e=>(e=>{let a=B.accomodation_sharing_options;a.splice(e,1),I((e=>({...e,accomodation_sharing_options:a})))})(a),className:"bg-white h-8 aspect-square rounded-md p-2",alt:"delete accomodation option"})]})))]}),B.accommodation_sharing&&(0,y.jsx)("button",{onClick:()=>{let e=B.accomodation_sharing_options;e.push({sharing_mode:"",additional_Price:null,id:(0,v.A)()}),I((a=>({...a,accomodation_sharing_options:e})))},className:"w-full bg-[#1E90FF] my-2 rounded-md text-white",children:"Add"})]}),(0,y.jsxs)("div",{className:"w-full bg-white mt-2 border border-[#A2DDFF] p-2",children:[(0,y.jsxs)("div",{className:"flex my-2",children:[(0,y.jsx)("p",{className:"text-sm",children:"Included in package"}),(0,y.jsx)("input",{onKeyDown:e=>{"Enter"===e.code&&(e.preventDefault(),Y())},value:B.included_item_,onChange:e=>Q(e.target.value,"included_item_"),type:"text",className:"border-b ml-2 w-1/2 border-b-black outline-none"}),(0,y.jsx)("button",{onClick:Y,className:"bg-[#1E90FF] font-RedHatLight text-xs px-2 text-white rounded-md",children:"Add"})]}),(0,y.jsx)("div",{className:"flex flex-wrap",children:B.included_in_package.map((e=>(0,y.jsxs)("div",{className:"flex m-1 p-2 justify-between rounded-full border border-[#A2DDFF] w-fit ",children:[(0,y.jsx)("p",{className:"text-sm",children:e}),(0,y.jsx)("img",{onClick:()=>{return a=e,void I({...B,included_in_package:B.included_in_package.filter((e=>e!==a))});var a},className:"ml-2",width:"20px",src:h.A})]},e)))})]}),(0,y.jsxs)("div",{className:"flex w-full justify-between bg-white items-center border border-[#A2DDFF] p-2 mt-2",children:[(0,y.jsx)("p",{children:"Discount"}),(0,y.jsx)("input",{value:B.discount,onChange:e=>Q(e.target.value,"discount"),type:"text",className:"w-[60%] p-1 outline-none bg-transparent border-b border-black",alt:"discount"})]}),(0,y.jsxs)("div",{className:"flex w-full justify-between bg-white items-center border border-[#A2DDFF] p-2 mt-2",children:[(0,y.jsx)("p",{children:"Taxes and Fees"}),(0,y.jsx)("input",{value:B.taxes_fee,onChange:e=>Q(e.target.value,"taxes_fee"),type:"text",className:"w-[60%] p-1 outline-none bg-transparent border-b border-black",alt:"discount"})]}),(0,y.jsxs)("div",{className:"w-full bg-white border border-[#A2DDFF] p-2 mt-2",children:[(0,y.jsx)("p",{children:"Cancellation Terms"}),(0,y.jsx)("textarea",{value:B.cancellation_terms,onChange:e=>Q(e.target.value,"cancellation_terms"),type:"text",className:"w-full p-1 outline-none bg-transparent border-b border-black",alt:"discount"})]})]}),!1!==O&&B.itinerary.length>0&&O<B.itinerary.length&&(0,y.jsxs)("div",{className:"w-full py-2 px-4 rounded-md bg-[#F4FBFF] border border-[#A2DDFF] mt-4",children:[(0,y.jsx)("p",{children:"Edit Itinerary"}),(0,y.jsxs)("div",{className:"w-full mt-2 h-fit overflow-scroll relative",children:[(0,y.jsx)("input",{onChange:e=>J(e.target.value,"day"),value:null!==B&&void 0!==B&&null!==(t=B.itinerary)&&void 0!==t&&t.length?B.itinerary[O].day:"Day 1",className:"outline-none mb-2 bg-white border border-[#A2DDFF] p-1 rounded-md",placeholder:"day 1"}),(0,y.jsx)("br",{}),(0,y.jsx)("textarea",{onChange:e=>J(e.target.value,"description"),value:null!==B&&void 0!==B&&null!==(N=B.itinerary)&&void 0!==N&&N.length?B.itinerary[O].description:"",className:"outline-none h-32 w-full bg-white border border-[#A2DDFF] p-1 rounded-md",placeholder:"description"}),(0,y.jsxs)("p",{className:"text-xs text-stone-500 float-right",children:[null===(w=B.itinerary[O])||void 0===w||null===(F=w.description)||void 0===F?void 0:F.length," / 500"]}),(0,y.jsx)("button",{onClick:()=>L(!1),className:"bg-[#1E90FF] font-RedHatLight text-xs px-6 py-2 text-white rounded-md",children:"Save"})]})]})]})]}),(0,y.jsxs)("div",{className:"w-full my-4 flex justify-end",children:[!Z.editing_package&&(0,y.jsx)("button",{className:"font-Nunito mr-2 text-white bg-[#10A3FF] px-6 py-1 rounded-md",children:"Preview"}),!Z.editing_package&&(0,y.jsx)("button",{className:"font-Nunito mr-2 text-white bg-[#EF780A] px-6 py-1 rounded-md",children:"Save Draft"}),!Z.editing_package&&(0,y.jsx)("button",{onClick:()=>{if(T.length>3)return void(0,b.Ax)("Max 3 images allowed");let e=new FormData;T.forEach((a=>{e.append("images",a)})),e.append("data",JSON.stringify({package_name:B.package_name,status:"active",duration:B.duration,pickup_location:B.pickup_location,destination:B.destination,currency:B.currency,base_price:B.price,discount:B.discount,tax_fees:B.taxes_fee,included_in_package:B.included_in_package,cancellation_terms:B.cancellation_terms,short_description:B.short_description,itinerary:B.itinerary,categories:B.selcted_categories.map((e=>e.value)),accommodation_sharing:B.accommodation_sharing,accomodation_sharing_options:B.accommodation_sharing?B.accomodation_sharing_options:[]})),(0,o.Qf)(e).then((e=>{var a;(0,p.Ay)(null===(a=e.data)||void 0===a?void 0:a.message,{style:{background:"#02B41F",borderRadius:"5px",fontSize:"14px",padding:"2px",color:"white"},duration:5e3}),ie()})).catch((e=>{var a,t;console.log(e),(0,p.Ay)(null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message,{style:{background:"#FFE900",borderRadius:"5px",fontSize:"10px",padding:"2px"},duration:5e3})}))},className:"font-Nunito text-white bg-[#02B41F] px-6 py-1 rounded-md",children:"Publish"}),Z.editing_package&&Z.editing_package_id>0&&(0,y.jsx)("button",{onClick:()=>{(0,o.y6)({product_service_id:Z.editing_package_id,package_name:B.package_name,status:"active",duration:B.duration,pickup_location:B.pickup_location,destination:B.destination,currency:B.currency,base_price:B.price,discount:B.discount,tax_fees:B.taxes_fee,included_in_package:B.included_in_package,cancellation_terms:B.cancellation_terms,short_description:B.short_description,itinerary:B.itinerary,categories:B.selcted_categories.map((e=>e.value)),accommodation_sharing:B.accommodation_sharing||!1,accomodation_sharing_options:B.accomodation_sharing_options||[]}).then((e=>{(0,b.Zx)(e.data.message),X(),G((e=>({...e,openIndex:void 0})))})).catch((e=>{(0,b.Ax)(e.response.data.message)}))},className:"font-Nunito text-white bg-[#02B41F] px-6 py-1 rounded-md",children:"Apply Updates"})]})]})}),(0,y.jsx)(u.A,{open:E,close:()=>{R(!1)},closeOnDocumentClick:!1,children:(0,y.jsxs)("div",{className:"w-[70vw] h-[80vh] rounded-md overflow-scroll",children:[(0,y.jsx)("p",{className:"font-RobotoCondensedMedium rounded-t-md mb-2 tracking-wider bg-[#003640] text-white p-2",children:"Package Schedule wizard"}),(0,y.jsxs)("p",{className:"font-Nunito text-base my-2",children:["Package Name: ",P.package_title]}),(0,y.jsxs)("div",{className:"w-full font-RedHatLight flex",children:[(0,y.jsxs)("div",{className:"w-[60%] mr-2 h-[68vh] bg-[#F4FBFF] p-2 rounded-md border border-[#A2DDFF] overflow-scroll",children:[q.filter((e=>"active"===e.status)).length>0&&(0,y.jsx)("div",{className:"flex mb-2 justify-center",children:(0,y.jsx)("p",{className:"text-xs font-RedHatLight",children:"Active Schedules"})}),q&&q.filter((e=>"active"===e.status)).map((e=>(0,y.jsxs)("div",{className:"w-full flex justify-between items-center bg-[#F1FFF3] border mt-2 p-2 border-[#02B41F] rounded-xl",children:[(0,y.jsx)("div",{className:"max-w-[25%] flex py-1 px-2 rounded-full bg-white w-8",children:(0,y.jsx)("img",{src:r})}),(0,y.jsxs)("div",{className:"text-xs ml-2",children:[(0,y.jsxs)("p",{className:"pb-2",children:["Start ",(0,y.jsx)("span",{className:"font-Nunito",children:(0,b.r6)(e.start_time)})]}),(0,y.jsxs)("p",{className:"pt-2",children:["End ",(0,y.jsx)("span",{className:"font-Nunito",children:(0,b.r6)(e.end_time)})]})]}),(0,y.jsxs)("div",{className:"text-xs ml-2",children:[(0,y.jsxs)("p",{className:"pb-2",children:["Capacity ",(0,y.jsx)("span",{className:"font-Nunito",children:e.capacity})]}),(0,y.jsxs)("p",{className:"pt-2",children:["Available ",(0,y.jsx)("span",{className:"font-Nunito",children:e.availability})]})]}),(0,y.jsx)("button",{onClick:()=>te("cancelled",e.schedule_id,e.product_service_id),className:"flex items-center bg-[#E90000] text-white font-Nunito px-4 rounded-md justify-between",children:"cancel"})]}))),q.filter((e=>"cancelled"===e.status)).length>0&&(0,y.jsx)("div",{className:"flex my-2 justify-center",children:(0,y.jsx)("p",{className:"text-xs font-RedHatLight",children:"Cancelled Schedules"})}),q&&q.filter((e=>"cancelled"===e.status)).map((e=>(0,y.jsxs)("div",{className:"w-full flex justify-between items-center bg-[#FFF0F0] border mt-2 p-2 border-[#E90000] rounded-xl",children:[(0,y.jsx)("div",{className:" flex py-1 px-2 rounded-full bg-white w-8",children:(0,y.jsx)("img",{src:c})}),(0,y.jsxs)("div",{className:"text-xs ml-2",children:[(0,y.jsxs)("p",{className:"pb-2",children:["Start ",(0,y.jsx)("span",{className:"font-Nunito",children:(0,b.r6)(e.start_time)})]}),(0,y.jsxs)("p",{className:"pt-2",children:["End ",(0,y.jsx)("span",{className:"font-Nunito",children:(0,b.r6)(e.end_time)})]})]}),(0,y.jsxs)("div",{className:"text-xs ml-2",children:[(0,y.jsxs)("p",{className:"pb-2",children:["Capacity ",(0,y.jsx)("span",{className:"font-Nunito",children:e.capacity})]}),(0,y.jsxs)("p",{className:"pt-2",children:["Available ",(0,y.jsx)("span",{className:"font-Nunito",children:e.availability})]})]}),(0,y.jsx)("button",{onClick:()=>te("active",e.schedule_id,e.product_service_id),className:"flex items-center bg-[#02B41F] text-white font-Nunito px-4 rounded-md justify-between",children:"activate"})]})))]}),(0,y.jsxs)("div",{className:"w-[40%] p-2 ml-2 h-[68vh] bg-[#F4FBFF] rounded-md border border-[#A2DDFF]",children:[(0,y.jsx)("p",{className:"py-2",children:"Schedule"}),(0,y.jsxs)("div",{className:"w-full flex bg-white border border-[#A2DDFF] rounded-md py-1 px-2",children:[(0,y.jsx)("p",{className:"w-1/2",children:"Time Zone"}),(0,y.jsx)("select",{className:"w-1/2 outline-none",children:(0,y.jsx)("option",{children:"IST"})})]}),(0,y.jsxs)("div",{className:"w-full mt-2 flex bg-white border border-[#A2DDFF] rounded-md  py-1 px-2",children:[(0,y.jsx)("p",{className:"w-1/2",children:"Start Date"}),(0,y.jsx)("input",{onChange:e=>ae(e.target.value,"start_date"),value:P.start_date,type:"date",className:"w-1/2 outline-none"})]}),(0,y.jsxs)("div",{className:"w-full mt-2 flex bg-white border border-[#A2DDFF] rounded-md  py-1 px-2",children:[(0,y.jsx)("p",{className:"w-1/2",children:"Start Time"}),(0,y.jsx)("input",{onChange:e=>ae(e.target.value,"start_time"),value:P.start_time,type:"time",className:"w-1/2 outline-none"})]}),(0,y.jsxs)("div",{className:"w-full mt-2 flex bg-white border border-[#A2DDFF] rounded-md  py-1 px-2",children:[(0,y.jsx)("p",{className:"w-1/2",children:"End Date"}),(0,y.jsx)("input",{onChange:e=>ae(e.target.value,"end_date"),value:P.end_date,type:"date",className:"w-1/2 outline-none"})]}),(0,y.jsxs)("div",{className:"w-full mt-2 flex bg-white border border-[#A2DDFF] rounded-md  py-1 px-2",children:[(0,y.jsx)("p",{className:"w-1/2",children:"End Time"}),(0,y.jsx)("input",{onChange:e=>ae(e.target.value,"end_time"),value:P.end_time,type:"time",className:"w-1/2 outline-none"})]}),(0,y.jsxs)("div",{className:"w-full mt-2 flex bg-white border border-[#A2DDFF] rounded-md  py-1 px-2",children:[(0,y.jsx)("p",{className:"w-1/2",children:"Capacity"}),(0,y.jsx)("input",{onChange:e=>ae(e.target.value,"capacity"),value:P.capacity,type:"number",className:"w-1/2 outline-none border-b border-[#A2DDFF]"})]}),(0,y.jsxs)("div",{className:"w-full mt-2 flex bg-white border border-[#A2DDFF] rounded-md  py-1 px-2",children:[(0,y.jsx)("p",{className:"w-1/2",children:"Location"}),(0,y.jsx)("input",{onChange:e=>ae(e.target.value,"location"),value:P.location,type:"location",className:"w-1/2 outline-none border-b border-[#A2DDFF]"})]}),(0,y.jsx)("button",{onClick:()=>{(0,o.sF)({schedules:[{product_service_id:P.product_service_id,start_datetime:"".concat(P.start_date,"T").concat(P.start_time),end_datetime:"".concat(P.end_date,"T").concat(P.end_time),capacity:P.capacity,availability:P.capacity,location:P.location,status:"active",time_zone:"Asia/Kolkata"}]}).then((e=>{(0,p.Ay)(e.data.message,{style:{background:"#02B41F",borderRadius:"5px",fontSize:"14px",padding:"2px",color:"white"},duration:5e3}),ee(P.product_service_id,P.package_title)})).catch((e=>{(0,p.Ay)(e.response.data.message,{style:{background:"#FFE900",borderRadius:"5px",fontSize:"10px",padding:"2px"},duration:5e3})}))},className:"font-Nunito bg-gradient-to-br from-[#CE4AFD] to-[#10A3FF] text-white w-full py-1 rounded-full mt-4",children:"Create Schedule"})]})]})]})}),(0,y.jsx)(u.A,{open:V.modalOpen,close:()=>{K({...V,modalOpen:!1})},closeOnDocumentClick:!0,children:(0,y.jsxs)("div",{className:"p-4",children:[(0,y.jsx)("p",{children:"You're Changing Status of package, This might affect visibility of your packages to users !!"}),(0,y.jsxs)("div",{className:"w-full mt-8 flex justify-evenly",onClick:()=>K({...V,modalOpen:!1}),children:[(0,y.jsx)("button",{className:"px-6 py-1 bg-stone-800 text-white rounded-md",onClick:()=>{V.confirmationCallback()},children:"Confirm"}),(0,y.jsx)("button",{className:"px-6 py-1 border border-stone-800 rounded-md",children:"Cancel"})]})]})}),(0,y.jsx)(u.A,{open:Z.display_sharinginfo_modal,close:()=>{G({...Z,display_sharinginfo_modal:!1})},closeOnDocumentClick:!0,children:(0,y.jsxs)("div",{className:"w-[60vw]",children:[(0,y.jsx)("div",{class:"flex justify-between items-center border-b pb-4 mb-4",children:(0,y.jsx)("h2",{class:"text-xl font-semibold text-gray-800",children:"Accommodation Sharing Feature"})}),(0,y.jsxs)("div",{class:"text-gray-700",children:[(0,y.jsx)("p",{class:"mb-4",children:"The accommodation sharing feature allows organizers to provide flexible pricing options for their customers based on sharing preferences. Customers can choose between different sharing modes such as single occupancy, double sharing, or group sharing, with each option having its own pricing structure."}),(0,y.jsx)("h3",{class:"font-semibold text-gray-800 mb-2",children:"How it Works"}),(0,y.jsxs)("ul",{class:"list-disc list-inside mb-4",children:[(0,y.jsx)("li",{children:"Enable the sharing feature in your package settings."}),(0,y.jsx)("li",{children:'Add sharing options such as "Single Occupancy", "Double Sharing", and "Group Sharing" with corresponding additional costs.'}),(0,y.jsx)("li",{children:"Customers must select one of the sharing options during booking."}),(0,y.jsx)("li",{children:"The selected option will reflect in the final price and booking details."})]}),(0,y.jsx)("h3",{class:"font-semibold text-gray-800 mb-2",children:"Example"}),(0,y.jsxs)("div",{class:"bg-gray-100 rounded-lg p-4 mb-4",children:[(0,y.jsxs)("p",{class:"text-sm text-gray-600",children:["If a package base price is ",(0,y.jsx)("span",{class:"font-semibold",children:"$200"}),":"]}),(0,y.jsxs)("ul",{class:"list-disc list-inside text-sm text-gray-600",children:[(0,y.jsxs)("li",{children:[(0,y.jsx)("span",{class:"font-semibold",children:"Single Occupancy:"})," $200 + $50 (additional cost) = $250"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("span",{class:"font-semibold",children:"Double Sharing:"})," $200 + $20 (additional cost) = $220"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("span",{class:"font-semibold",children:"Group Sharing:"})," $200 (no additional cost) = $200"]})]})]}),(0,y.jsx)("p",{class:"text-gray-700",children:"This feature helps you attract a broader audience by offering flexible options tailored to individual and group needs."})]})]})}),(0,y.jsxs)("div",{className:"w-3/5 p-2 overflow-scroll h-[90vh]",children:[(0,y.jsx)("input",{value:Z.package_search_str,onChange:e=>G({...Z,package_search_str:e.target.value}),type:"text",alt:"serach bar",placeholder:"Search packages",className:"w-full px-4 py-2 mb-2 text-base rounded-full outline-none border border-[#A2DDFF] placeholder:opacity-70"}),(0,y.jsxs)("div",{className:"flex ",children:[(0,y.jsx)("a",{href:"/business/".concat(String(f.A.getState().businessState.business_name).replace(/ /g,"-"),"/packages"),target:"_blank",className:"text-[#6C757D] font-RedHatLight",children:"Public Link "}),(0,y.jsx)("img",{onClick:()=>{(0,b.lW)(window.location.origin+"/business/".concat(String(f.A.getState().businessState.business_name).replace(/ /g,"-"),"/packages")),(0,b.Zx)("Copied to clipboard !!")},className:"bg-black p-1 mx-4 rounded-md aspect-square",width:"25px",src:"https://penguinduo.com/Blog/assets/copy.svg",alt:"copy sharable link"})]}),D.filter((e=>String(e.title).toLowerCase().includes(String(Z.package_search_str).toLowerCase()))).map(((e,a)=>(0,y.jsxs)("div",{onClick:()=>G((e=>({...e,openIndex:a}))),style:"active"===e.status?{backgroundColor:"#F1FFF3",borderColor:"#02B41F"}:"pending"===e.status?{backgroundColor:"#FEF6EF",borderColor:"#EF780A"}:{backgroundColor:"#FFF0F0",borderColor:"#E90000"},className:"flex items-center mt-2 h-fit justify-between rounded-xl border",children:[(0,y.jsxs)("div",{className:"flex justify-between items-center w-3/4 py-2 px-4",children:[(0,y.jsx)("p",{className:"w-3/5",children:e.title}),(0,y.jsxs)("div",{className:"flex items-center justify-start bg-white rounded-full px-2 py-1 w-28 border border-stone-200",children:[(0,y.jsx)("img",{src:"active"===e.status?r:"deleted"===e.status?c:d.A,alt:"package Status Icon",className:"mr-2"}),(0,y.jsx)("p",{className:"font-light font-Nunito",children:e.status})]})]}),Z.openIndex===a&&(0,y.jsxs)("div",{className:"py-2 px-4 w-1/4 items-stretch h-full border-l border-slate-300",children:[(0,y.jsx)("p",{className:"text-xs w-full text-center mb-2",children:"Quick Actions"}),(0,y.jsxs)("div",{className:"flex justify-evenly w-full",children:[(0,y.jsxs)("div",{className:"text-xs",children:[(0,y.jsx)("img",{onClick:()=>ee(e.product_service_id,e.title),className:"p-2 scale-75 border border-stone-300 cursor-pointer bg-white rounded-md",src:g,alt:"package schedule"}),(0,y.jsx)("p",{className:"text-center",children:"Schedule"})]}),(0,y.jsxs)("div",{className:"text-xs",children:[(0,y.jsx)("img",{onClick:a=>{return t=e.product_service_id,G((e=>({...e,editing_package_id:t,package_to_copy:t,editing_package:!0}))),void S(!0);var t},className:"p-2 scale-75 border border-stone-300 cursor-pointer bg-white rounded-md",src:i.A,alt:"package edit"}),(0,y.jsx)("p",{className:"text-center",children:"Edit"})]})]}),(0,y.jsxs)("div",{className:"flex justify-evenly w-full mt-2",children:["active"!==e.status&&(0,y.jsxs)("div",{className:"text-xs",children:[(0,y.jsx)("img",{onClick:()=>se(e.product_service_id,"active"),className:"p-2 scale-75 border border-stone-300 cursor-pointer mr-2 bg-white rounded-md",src:_,alt:"package schedule"}),(0,y.jsx)("p",{className:"text-center",children:"Activate"})]}),"pending"!==e.status&&(0,y.jsxs)("div",{className:"text-xs",children:[(0,y.jsx)("img",{onClick:()=>se(e.product_service_id,"pending"),className:"p-2 scale-75 border border-stone-300 cursor-pointer mr-2 bg-white rounded-md",src:j,alt:"package edit"}),(0,y.jsx)("p",{className:"text-center",children:"Pause"})]}),"deleted"!==e.status&&(0,y.jsxs)("div",{className:"text-xs",children:[(0,y.jsx)("img",{onClick:()=>se(e.product_service_id,"deleted"),className:"p-2 scale-75 border border-stone-300 cursor-pointer bg-white rounded-md",src:n.A,alt:"package delete"}),(0,y.jsx)("p",{className:"text-center",children:"Delete"})]})]})]})]},e.product_service_id)))]}),(0,y.jsxs)("div",{className:"w-2/5 p-2",children:[(0,y.jsx)("div",{className:"w-full h-[40vh] bg-white rounded-md border border-[#A2DDFF]",children:(0,y.jsx)("p",{className:"bg-[#003640] w-full p-2 font-RobotoCondensedMedium tracking-wider text-sm text-white rounded-t-md",children:"Package Insights"})}),(0,y.jsx)("div",{className:"w-full h-[50vh] bg-white mt-2 rounded-md border border-[#A2DDFF]",children:(0,y.jsx)("p",{className:"bg-[#003640] w-full p-2 font-RobotoCondensedMedium tracking-wider text-sm text-white rounded-t-md",children:"Customer Queries"})})]}),!C&&(0,y.jsxs)("div",{onClick:()=>S(!0),className:"w-28 absolute z-10 right-0 bottom-0 cursor-pointer hover:shadow-xl rounded-xl flex flex-col text-white justify-center items-center aspect-square bg-gradient-to-br from-[#CE4AFD] to-[#10A3FF]",children:[(0,y.jsx)("img",{src:l.A,alt:"add package",className:""}),(0,y.jsx)("p",{className:"font-Nunito font-semibold mt-2",children:"Add Package"})]})]})}},6435:(e,a,t)=>{t.d(a,{A:()=>r});var s=t(9950),i=t(3300),n=t(4414);const r=e=>{const[a,t]=(0,s.useState)({...e});return(0,n.jsx)("div",{id:"backdrop",onClick:a=>{a.preventDefault(),!1!==e.closeOnDocumentClick&&"backdrop"===a.target.id&&e.close()},style:{display:e.open?"inherit":"none"},className:"fixed z-10 left-0 top-0 w-[100vw] h-[100vh] bg-[#1b1818c7] flex justify-center items-center",children:(0,n.jsxs)("section",{className:"fixed h-auto min-w-[20vw] bg-white rounded-lg p-4 ",children:[(0,n.jsx)("div",{onClick:e.close,className:"mobile:hidden mobile:-top-10 absolute p-2 bg-slate-300 rounded-full -top-6 -right-6 hover:scale-105 border border-dotted border-black",children:(0,n.jsx)("img",{className:"",width:"",src:i.A,alt:"modal Close Btn"})}),s.Children.map(e.children,(a=>s.cloneElement(a,e)))]})})}},7956:(e,a,t)=>{t.d(a,{A:()=>l});const s={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const n=new Uint8Array(16);function r(){if(!i&&(i="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(n)}const d=[];for(let o=0;o<256;++o)d.push((o+256).toString(16).slice(1));function c(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(d[e[a+0]]+d[e[a+1]]+d[e[a+2]]+d[e[a+3]]+"-"+d[e[a+4]]+d[e[a+5]]+"-"+d[e[a+6]]+d[e[a+7]]+"-"+d[e[a+8]]+d[e[a+9]]+"-"+d[e[a+10]]+d[e[a+11]]+d[e[a+12]]+d[e[a+13]]+d[e[a+14]]+d[e[a+15]]).toLowerCase()}const l=function(e,a,t){if(s.randomUUID&&!a&&!e)return s.randomUUID();const i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,a){t=t||0;for(let e=0;e<16;++e)a[t+e]=i[e];return a}return c(i)}}}]);