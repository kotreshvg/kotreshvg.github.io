"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[531],{5415:(e,t,s)=>{s.d(t,{A:()=>a});s(9950);const a=s.p+"static/media/camera.41ab8f869278450ea87f7359cefc43e7.svg"},6033:(e,t,s)=>{s.d(t,{A:()=>a});s(9950);const a=s.p+"static/media/sendicon.959c9c9a24b95e47529320c7bbbdd93c.svg"},5531:(e,t,s)=>{s.r(t),s.d(t,{default:()=>G});var a=s(9950),i=s(4903),r=s(9182),n=s(8947),o=s(9881),d=s(6033),c=s(9749),l=s(8429),h=s(346),m=s(7788),g=s(7956),u=s(3236),p=s(9465),x=s(1277),f=s(2974),b=s(8632),v=s(2351),w=s(7246);const j=s.p+"static/media/emojij.3e6f188606533ff777f9eaf693998049.svg";var y=s(8547),N=s(3143),S=s(1840),M=s(3999),I=s(5415),k=s(6435);const D=s.p+"static/media/photoCapture.6b3ebffc31d1ac789109e0203554c129.svg";const C=s.p+"static/media/switchCamera.bc4f31afafac7c50f2392cbd607d77f3.svg";const A=s.p+"static/media/reload.fc439ddb9008fc80c2a5297ababb4136.svg";s.p;var F=s(4414);class E extends a.Component{constructor(e){super(e),this.initializeMedia=async()=>{this.setState({...this.state,imageDataURL:null}),"mediaDevices"in navigator||(navigator.mediaDevices={}),"getUserMedia"in navigator.mediaDevices||(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise(((s,a)=>{t.call(navigator,e,s,a)})):Promise.reject(new Error("getUserMedia Not Implemented"))});const e=await this.getListOfVideoInputs();e.length?navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:e[this.cameraNumber].deviceId}}}).then((e=>{this.player.srcObject=e})).catch((e=>{console.error(e)})):alert("The device does not have a camera")},this.capturePicture=()=>{var e=document.createElement("canvas");e.width=this.player.videoWidth,e.height=this.player.videoHeight,e.getContext("2d").drawImage(this.player,0,0,e.width,e.height),this.player.srcObject.getVideoTracks().forEach((e=>{e.stop()}));let t=e.toDataURL();this.props.setImage(t),this.setState({...this.state,imageDataURL:t})},this.switchCamera=async()=>{const e=await this.getListOfVideoInputs();e.length>1?(this.player.srcObject&&this.player.srcObject.getVideoTracks().forEach((e=>{e.stop()})),0===this.cameraNumber?this.cameraNumber=1:1===this.cameraNumber&&(this.cameraNumber=0),this.initializeMedia()):1===e.length?alert("The device has only one camera"):alert("The device does not have a camera")},this.getListOfVideoInputs=async()=>(await navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind)),this.refresh=async()=>{this.initializeMedia()},this.cameraNumber=0,this.state={imageDataURL:null,open:e.open}}componentDidUpdate(e){if(1!=e.open&&1==this.props.open)this.initializeMedia();else if(!0!==this.props.open){var t;null!==(t=this.player)&&void 0!==t&&t.srcObject&&this.player.srcObject.getVideoTracks().forEach((e=>{e.stop()}))}}render(){const e=Boolean(this.state.imageDataURL)?(0,F.jsx)("img",{src:this.state.imageDataURL,alt:"cameraPic"}):(0,F.jsx)("video",{ref:e=>{this.player=e},autoPlay:!0});return(0,F.jsxs)("div",{className:"App",children:[e,(0,F.jsxs)("div",{className:"mt-2 flex justify-center",children:[(0,F.jsx)("button",{onClick:this.refresh,children:(0,F.jsx)("img",{src:A,className:"mobile:mx-1 mobile:p-1 p-2 mx-2 bg-slate-300 rounded-full border border-dotted border-black",alt:"switch camera"})}),(0,F.jsx)("button",{onClick:this.capturePicture,children:(0,F.jsx)("img",{src:D,className:"mobile:p-1 p-2 bg-slate-300 rounded-full border border-dotted border-black",alt:"photo capture"})}),(0,F.jsx)("button",{onClick:this.switchCamera,children:(0,F.jsx)("img",{src:C,className:"mobile:mx-1 mobile:p-1 p-2 mx-2 bg-slate-300 rounded-full border border-dotted border-black",alt:"switch camera"})})]})]})}}const U=E,T=e=>(0,F.jsx)(k.A,{close:e.close,open:e.open,setImage:e.setImage,children:(0,F.jsx)(U,{})});var O=s(3300),B=s(4127);const R=s.p+"static/media/startyellow.dfa63203bd300817df4432ae4067cb38.svg";var L=s(8583);const q=new(s(6719).Ay)("penguinduo");async function V(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{let t=q.friends.orderBy("lastInteraction").reverse();e&&Number.isInteger(e)&&e>0&&(t=t.limit(e));const s=await t.toArray();for(let e of s){const t=await q.messages.where({sender:e.friendId,status:"unread"}).count();e.unreadCount=t}return console.log("Retrieved ".concat(s.length," friends sorted by last interaction")),s}catch(t){throw console.error("Error fetching friends sorted by last interaction:",t),t}}async function P(e){try{let t=e.sender.username===c.A.getState().authentication.userName?e.receiver.username:e.sender.username;const s=await q.messages.add({messageId:e.messageId||e.token,friendId:t,sender:e.sender.username,receiver:e.receiver.username,messageContent:JSON.stringify(e.content),timestamp:e.timestamp||(new Date).toISOString(),type:e.type,status:e.status,metadata:JSON.stringify(e.metadata)});return console.log("Message stored locally"),async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).toISOString();try{return await q.friends.update(e,{lastInteraction:t})?(console.log("Last interaction updated for friend"),!0):(console.log("Friend ".concat(e," not found")),!1)}catch(s){throw console.error("Error updating last interaction for friend ".concat(e,":"),s),s}}(t,e.timestamp||(new Date).toISOString()),s}catch(t){throw console.error("Error storing message:",t),t}}q.version(4).stores({friends:"friendId, lastInteraction",messages:"++id, messageId, friendId, sender, receiver, messageContent, timestamp, type, status, metadata",pendingMessages:"messageId, senderId, messageContent, timestamp"}),q.open().catch((e=>{console.error("Failed to open database:",e.stack||e)}));class z extends a.Component{static getDerivedStateFromProps(e,t){return{...t,isMatched:e.SocConState.isMatched,recepientId:e.SocConState.recepientId,matchRequested:e.SocConState.isMatched?!e.SocConState.isMatched:t.matchRequested,device:e.globalState.device,alertMsg:e.SocConState.isMatched!=t.isMatched&&1==t.isMatched?"User disconnected":void 0,alertType:e.SocConState.isMatched!=t.isMatched&&1==t.isMatched?"warning":void 0}}constructor(e){var t;super(e),t=this,this.keyDown=e=>{"Enter"===e.code&&(e.preventDefault(),this.sendMessage())},this.requestMatch=()=>{(0,B.Rt)({eventType:"buttonclick",triggerelement:"match button"}),this.state.matchRequested?this.setState({...this.state,alertMsg:"Processing match request",alertType:"info"}):(this.textList=[],this.setState({...this.state,matchRequested:!0,chatMode:"random"}),this.state.Socket.emit("MatchRequest",{mode:"chat",name:this.props.authentication.name,age:this.props.authentication.age,gender:this.props.authentication.gender}))},this.revokeMatch=()=>{this.state.isMatched?((0,B.Rt)({eventType:"buttonclick",triggerelement:"disconnect button"}),this.state.Socket.emit("MatchRevoked",{recepientId:this.state.recepientId}),this.textList=[],window.sessionStorage.removeItem("recepientName"),window.sessionStorage.removeItem("recepientGender"),c.A.dispatch((0,p.c1)())):this.setState({...this.state,alertMsg:"You're not connected",alertType:"warning"})},this.sendMessage=()=>{if((this.state.message.length>0||this.state.imageData)&&(this.state.isMatched||"async"===this.state.chatMode)){if(this.textList.push({type:"sent",kind:this.state.imageData?"multimedia/image":"text",image:this.state.imageData?this.state.imageData:void 0,message:this.state.message?this.state.message:"",uuid:(0,g.A)()}),this.setState({...this.state,message:"",imageData:void 0,emojiVisible:!1}),"random"===this.state.chatMode&&this.state.Socket.emit(this.state.imageData?"image":"chat",{recepientId:this.state.recepientId,text:this.state.message?this.state.message:"",kind:this.state.imageData?"multimedia/image":"text",image:this.state.imageData?this.state.imageData:void 0}),"async"===this.state.chatMode){let e=(0,g.A)(),t=this.prepareMsgObject(e);P(t),this.state.Socket.emit("asyncchat",t),this.setState({...this.state,message:"",imageData:void 0})}this.forceUpdate(),this.scrollToBottom()}else this.state.isMatched||this.setState({...this.state,alertMsg:"You're not matched yet \nclick on match button to get matched",alertType:"warning"})},this.receiveMessage=e=>{this.textList.push({type:"received",message:e.text?e.text:void 0,kind:e.kind,image:"multimedia/image"===e.kind?e.image:void 0,uuid:(0,g.A)()}),this.forceUpdate(),this.scrollToBottom()},this.setEmojiVisibility=()=>{this.setState({...this.state,emojiVisible:!this.state.emojiVisible})},this.addEmoji=e=>{this.setState({...this.state,message:this.state.message+e.emoji})},this.matchTimeup=()=>{this.setState({...this.state,matchRequested:!1,alertMsg:"Failed to find match, try again in sometime",alertType:"success"})},this.initImageModal=()=>{this.setState({...this.state,imageCaptureOpen:!this.state.imageCaptureOpen})},this.destroyModal=()=>{this.setState({...this.state,imageCaptureOpen:!1})},this.setImage=e=>{this.setState({...this.state,imageData:e})},this.getTime=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e?new Date(e):new Date,s=t.getHours();return[s>12?String(s-12).padStart(2,"0"):s,String(t.getMinutes()).padStart(2,"0"),s>12?"PM":"AM"].join(" ")},this.getMsgElement=function(e){let s,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s=(0,F.jsxs)("div",{id:a?"end":"",className:" w-2/3 h-fit flex flex-col ".concat("sent"==e.type?"float-right items-end":"float-left items-start"),children:[(0,F.jsxs)("p",{className:"text-[10px] text-gray-400 font-light",children:[t.getTime(e.time)," ","sent"==e.type?"You":window.sessionStorage.getItem("recepientName")]}),"multimedia/image"===e.kind?(0,F.jsx)("img",{src:e.image,alt:"image"}):null,(0,F.jsx)("div",{className:"warp w-full ".concat("sent"==e.type?"bg-[#115EBE] text-white rounded-tr-none":"bg-white border border-[#115EBE] rounded-tl-none"," px-4 py-2 rounded-lg my-1 shadow-sm text-sm"),children:e.message})]},e.uuid),s},this.deleteImage=()=>{this.setState({...this.state,imageData:void 0})},this.setMode=e=>{this.getSavedFriends(),this.setState({...this.state,selectedMode:e||"friends"})},this.getCuratedUsers=()=>{(0,L.X5)().then((async e=>{let t=await V(),s=await async function(){let e=c.A.getState().authentication.userName||void 0;if(!e)return[];const t=await q.friends.toArray(),s=new Set(t.map((e=>e.friendId)));return(await q.messages.filter((t=>!s.has(t.sender)&&t.receiver===e)).toArray()).reduce(((e,t)=>(e[t.sender]||(e[t.sender]=[]),e[t.sender].push(t),e)),{})}(),a=Object.keys(s);t=t.map((e=>e.friendId)),e.length>0&&this.setState({...this.state,curatedUsers:e.filter((e=>!t.includes(e.username))).map((e=>(a.includes(e.username)&&(e.request=!0),e)))})}))},this.getFriends=()=>{(0,L.IX)().then((e=>{try{!async function(e){try{const t=await q.friends.toCollection().primaryKeys(),s=e.filter((e=>!t.includes(e.friendId)));s.length>0?(await q.friends.bulkAdd(s),console.log("".concat(s.length," new friends added successfully"))):console.log("No new friends to add")}catch(t){throw console.error("Error adding new friends:",t),t}}(e.map((e=>({friendId:e.username,lastInteraction:e.lastInteraction||(new Date).toISOString()}))))}catch(t){}}))},this.getSavedFriends=()=>{V().then((e=>{this.setState({...this.state,savedFriends:e||[]})}))},this.setSelectedUser=(e,t)=>{window.sessionStorage.setItem("recepientName",t),async function(e){try{await q.messages.where("friendId").equals(e).modify({status:"read"});let t=c.A.getState().authentication.userName;return await q.messages.where("friendId").equals(e).and((e=>e.sender===t||e.receiver===t)).toArray()}catch(t){throw console.error("Failed to fetch messages:",t),t}}(e).then((t=>{this.getSavedFriends(),this.textList=[...t.map((t=>{let s=JSON.parse(t.messageContent);return{type:t.sender==e?"received":"sent",kind:t.type,image:s.mediaUrl.length?"multimedia/image":void 0,message:s.text,uuid:t.messageId,time:t.timestamp}}))],this.forceUpdate(),this.scrollToBottom()})),this.setState({...this.state,authedRecepientId:e,chatMode:"async"})},this.prepareMsgObject=e=>({token:e,type:this.state.imageData?"image":"text",content:{text:this.state.message,mediaUrl:this.state.imageData||"",mediaType:this.state.imageData?"image/jpeg":""},sender:{id:"",username:c.A.getState().authentication.userName,displayName:"",avatarUrl:""},receiver:{id:"",username:this.state.authedRecepientId,displayName:"",avatarUrl:""},status:"sent",metadata:{priority:"normal",tags:[],customData:{}}}),this.createFriendship=e=>{(0,L.nO)(e).then((e=>{this.getFriends(),this.getCuratedUsers()}))},this.state={message:"",redirect:this.props.authentication.name?void 0:"/",Socket:void 0,isMatched:this.props.SocConState.isMatched,recepientId:this.props.SocConState.recepientId,alertMsg:void 0,alertType:void 0,matchRequested:!1,mobileButtonVisible:!0,emojiVisible:!1,device:this.props.globalState.device,imageCaptureOpen:!1,imageData:void 0,selectedMode:"explore",curatedUsers:[],savedFriends:[],chatMode:"random",authedRecepientId:void 0},this.textList=[]}scrollToBottom(){setTimeout((e=>{document.getElementById("end").scrollIntoView({behavior:"smooth",block:"nearest"})}),0)}componentDidMount(){(0,B.Rt)({eventType:"PageLoad"}),this.scrollToBottom(),this.props.authentication.name&&((new h.y).getSocket().then((e=>{e.on("chat",(e=>{this.receiveMessage(e)})),e.on("image",(e=>{this.receiveMessage(e)})),e.on("asyncchat",(t=>{t.forEach((t=>{t.status="unread",P(t).then((s=>{e.emit("asyncchatreceived",[t.messageId])}))})),this.getSavedFriends(),this.forceUpdate(),this.scrollToBottom()})),e.on("asyncMsgRecieved",(e=>{let{token:t,messageId:s}=e;!async function(e,t){try{await q.messages.where("messageId").equals(e).modify({messageId:t})>0?console.log("Message updated with server ID"):console.log("No message found with token")}catch(s){throw console.error("Error updating message with server ID:",s),s}}(t,s)})),this.setState({...this.state,Socket:e})})),async function(){try{const e=await q.messages.toArray(),t=new Set;for(const s of e)t.has(s.messageId)?await q.messages.delete(s.id):t.add(s.messageId);console.log("Duplicate messages removed successfully.")}catch(e){throw console.error("Error removing duplicate messages:",e),e}}(),this.getFriends(),this.getSavedFriends(),this.getCuratedUsers())}componentWillUnmount(){this.state.Socket&&this.state.Socket.disconnect(),window.sessionStorage.removeItem("recepientName"),window.sessionStorage.removeItem("recepientGender")}render(){return(0,F.jsxs)("div",{children:[(0,F.jsxs)("div",{className:" h-[100vh] flex flex-col relative bg-[#E5F5FF] sm:px-2",children:[(0,F.jsx)(T,{}),(0,F.jsx)(i.A,{}),(0,F.jsx)(S.A,{}),this.state.redirect&&(0,F.jsx)(l.C5,{to:this.state.redirect,replace:!0}),this.state.alertMsg&&(0,F.jsx)(u.A,{text:this.state.alertMsg,callBack:()=>{this.setState({...this.state,alertMsg:void 0,alertType:void 0})},type:this.state.alertType,timeOut:4e3}),(0,F.jsxs)("div",{className:"w-full h-[100%] flex",children:[(0,F.jsxs)("div",{className:" w-[40%] p-2 h-[100%] mobile:hidden",children:[(0,F.jsxs)("div",{className:"p-1 flex w-full justify-between",children:[(0,F.jsx)("button",{onClick:()=>this.setMode("friends"),className:"w-[49%] rounded-md h-fit py-2 border font-Nunito border-white ".concat("friends"==this.state.selectedMode?"bg-[#B7E3FF]":" bg-[#D1EDFF]"),children:"Friends"}),(0,F.jsx)("button",{onClick:()=>this.setMode("explore"),className:"w-[49%] rounded-md h-fit py-2 border font-Nunito border-white ".concat("explore"==this.state.selectedMode?"bg-[#B7E3FF]":" bg-[#D1EDFF]"),children:"Explore"})]}),(0,F.jsxs)("div",{className:"w-full h-[90%] px-1 relative",children:[!c.A.getState().authentication.authenticated&&(0,F.jsx)("div",{className:"absolute w-full h-full backdrop-blur-[3px] z-10 flex justify-center items-center",children:(0,F.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,F.jsx)("p",{children:"Please Login / Sign Up to use this feature"}),(0,F.jsx)("button",{onClick:()=>window.location.href="/auth",className:"flex items-center gap-3 text-sm p-3 border-b border-b-Primary rounded-md m-4 text-white bg-gradient-to-r from-[#CE4AFD] to-[#10A3FF]",children:"Login / Sign Up"})]})}),(0,F.jsx)("input",{type:"text",placeholder:"Search",className:"w-full font-thin px-2 py-[1px] outline-none rounded border border-[#B7E3FF]"}),this.state.savedFriends.map((e=>(0,F.jsxs)("div",{onClick:()=>this.setSelectedUser(e.friendId,e.friendId),style:{display:"friends"==this.state.selectedMode?"flex":"none"},className:"flex p-2 justify-between hover:bg-[#D1EDFF]",children:[(0,F.jsxs)("div",{className:"flex items-center",children:[(0,F.jsx)("div",{className:"rounded-full bg-white p-3 h-12 w-12 flex justify-center items-center",children:(0,F.jsx)("img",{src:o.A,alt:"user pic",className:"scale-75"})}),(0,F.jsxs)("div",{className:"px-4 py-1",children:[(0,F.jsx)("p",{children:e.friendId}),(0,F.jsx)("p",{className:"text-[10px] text-light_green",children:"-"})]})]}),parseInt(e.unreadCount)>0&&(0,F.jsx)("div",{className:"p-2 my-auto rounded-full flex justify-center items-center text-[10px] bg-[#5F9EA0] text-white w-5 h-5",children:(0,F.jsx)("span",{children:e.unreadCount})})]}))),this.state.curatedUsers.map((e=>(0,F.jsxs)("div",{onClick:()=>this.setSelectedUser(e.username,e.fullname),style:{display:"explore"==this.state.selectedMode?"flex":"none"},className:"flex items-center p-2 justify-between hover:bg-[#D1EDFF]",children:[(0,F.jsxs)("div",{className:" flex items-center",children:[(0,F.jsx)("div",{className:"rounded-full bg-white p-3 h-12 w-12 flex justify-center items-center",children:(0,F.jsx)("img",{src:o.A,alt:"user pic",className:"scale-75"})}),(0,F.jsxs)("div",{className:"px-4 py-1",children:[(0,F.jsx)("p",{children:e.fullname}),(0,F.jsxs)("div",{className:"flex h-fit items-center",children:[(0,F.jsx)("img",{src:"Male"==e.gender?x:"Female"==e?f:b,className:"",alt:"gender icon",width:"15px"}),(0,F.jsx)("p",{className:"text-[12px] px-1 text-slate-400",children:e.age}),(0,F.jsx)("hr",{className:"border h-4 mx-2 border-black"}),(0,F.jsx)("p",{className:"text-[12px] px-1 text-slate-400",children:e.location||"-"})]})]}),e.request&&(0,F.jsx)("button",{onClick:t=>this.createFriendship(e.username),className:"bg-gradient-to-r from-[#CE4AFD] to-[#10A3FF] text-xs p-2 rounded-full text-white",children:"Add friend"})]}),(0,F.jsxs)("div",{className:"rounded-full flex flex-col justify-center items-center text-[10px] w-6 h-6",children:[(0,F.jsx)("img",{src:R,alt:"start"}),(0,F.jsx)("p",{children:e.star||0})]})]},e.username)))]})]}),(0,F.jsxs)("div",{className:" w-[60%] px-12 py-4 h-[100%] flex justify-center mobile:w-full mobile:p-0",children:[(0,F.jsxs)("div",{className:"w-1/3 flex flex-col justify-center mobile:hidden",children:[(0,F.jsxs)("button",{className:"w-40 h-10 flex p-2 justify-around my-2 rounded-full ".concat(this.state.isMatched?"bg-[#d7dbd6]":"bg-[#A7FB9A]","\n\t\t\t\t\t\t\ttext-sm hover:bg-[#8ef57e] hover:shadow-xl"),disabled:this.state.isMatched,onClick:this.requestMatch,children:[(0,F.jsx)("img",{width:"20px",src:n.A}),this.state.matchRequested?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(v.A,{size:4}),"desktop"==this.state.device?(0,F.jsx)(N.A,{countdown:15,callback:this.matchTimeup}):void 0]}):"Match"]}),(0,F.jsxs)("button",{className:"w-40 h-10 flex p-2 justify-around rounded-full bg-[#FBB19A] text-sm hover:bg-[#f79b80] hover:shadow-lg",onClick:this.revokeMatch,children:[(0,F.jsx)("img",{width:"20px",src:r.A}),"Disconnect"]})]}),(0,F.jsxs)("div",{className:" mobile:w-full mobile:h-full mobile:bg-[#ece2e47d] shadow-edge  w-1/2 h-[88vh] px-2 py-3 flex flex-col justify-between border rounded-xl mobile:rounded-none",children:[(0,F.jsxs)("div",{className:"bg-white h-10 flex justify-between p-2 rounded w-full shadow-md ",children:[(0,F.jsxs)("div",{className:"flex",children:[(0,F.jsx)("img",{className:"",src:o.A,width:"16px"}),(0,F.jsx)("p",{className:"text-sm text-oxford_blue mt-auto mx-3",children:window.sessionStorage.getItem("recepientName")?window.sessionStorage.getItem("recepientName"):"User Name"})]}),(0,F.jsx)("img",{className:"",src:"Male"===window.sessionStorage.getItem("recepientGender")?x:"Female"===window.sessionStorage.getItem("recepientGender")?f:b,width:"20px"})]}),(0,F.jsx)("div",{className:"h-full w-full my-1 p-2 overflow-y-scroll scroll-none scroll-hide",children:this.textList.map(((e,t)=>t+1==this.textList.length?this.getMsgElement(e,!0):this.getMsgElement(e,!1)))}),this.state.imageData?(0,F.jsxs)("div",{className:"w-full flex justify-center",children:[(0,F.jsx)("img",{className:"w-32 rounded-lg p-1 border border-black border-dotted",src:this.state.imageData?this.state.imageData:void 0,alt:"captured image"}),(0,F.jsx)("img",{onClick:this.deleteImage,className:"p-2",src:O.A,alt:"delete image"})]}):"",(0,F.jsxs)("div",{className:"hidden mobile:show w-full h-fit rounded-md bg-[#aaa8a850]",children:[(0,F.jsx)("div",{className:"w-full",onClick:()=>this.setState({...this.state,mobileButtonVisible:!this.state.mobileButtonVisible}),children:(0,F.jsx)("img",{src:w.A,className:"mx-auto bg-white rounded-b-md"})}),this.state.mobileButtonVisible&&(0,F.jsxs)("div",{className:"flex justify-around",children:[(0,F.jsx)("button",{className:"w-12 h-12 shadow flex p-2 justify-center items-center rounded-full ".concat(this.state.isMatched?"bg-[#d7dbd6]":"bg-[#A7FB9A]","\n\t\t\t\t\t\t\t\t\t\ttext-[8px] font-semibold hover:bg-[#8ef57e] hover:shadow-xl"),disabled:this.state.isMatched,onClick:this.requestMatch,children:this.state.matchRequested?(0,F.jsx)(v.A,{size:4}):"Connect"}),this.state.matchRequested&&"mobile"===this.state.device?(0,F.jsx)(N.A,{countdown:15,callback:this.matchTimeup}):void 0,(0,F.jsx)("button",{className:"w-12 h-12 flex p-2 justify-center items-center rounded-full bg-[#FBB19A] text-[8px] hover:bg-[#f79b80] shadow-lg font-semibold",onClick:this.revokeMatch,children:"Disconnect"})]})]}),(0,F.jsxs)("div",{className:"bg-white border border-[#e5e7eb] h-14 min-h-[2.5rem] flex items-center px-2 rounded-full w-full cursor-pointer shadow-md hover:shadow-none",children:[(0,F.jsx)("div",{onClick:this.setEmojiVisibility,children:(0,F.jsx)("img",{className:"",width:"25px",src:j})}),(0,F.jsx)("input",{value:this.state.message,onKeyDown:this.keyDown,onChange:e=>this.setState({...this.state,message:e.target.value}),maxLength:100,className:"outline-none rounded-full px-1 w-[100%]"}),(0,F.jsx)("img",{onClick:this.initImageModal,src:I.A,width:"40px",className:"mx-1 px-2",alt:"camera icon"}),(0,F.jsx)("div",{onClick:this.sendMessage,children:(0,F.jsx)("img",{src:d.A,width:"30px"})})]}),(0,F.jsx)("div",{style:{display:this.state.emojiVisible?"initial":"none"},className:"w-full h-1/2",children:(0,F.jsx)(y.Ay,{onEmojiClick:this.addEmoji,height:"100%",width:"100%",emojiStyle:"native",searchDisabled:!0})})]})]})]}),(0,F.jsx)(T,{open:this.state.imageCaptureOpen,close:this.destroyModal,setImage:this.setImage})]}),(0,F.jsx)(M.A,{})]})}}const G=(0,m.Ng)((function(e){return{...e}}))(z)},6435:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(9950),i=s(3300),r=s(4414);const n=e=>{const[t,s]=(0,a.useState)({...e});return(0,r.jsx)("div",{id:"backdrop",onClick:t=>{t.preventDefault(),!1!==e.closeOnDocumentClick&&"backdrop"===t.target.id&&e.close()},style:{display:e.open?"inherit":"none"},className:"fixed z-10 left-0 top-0 w-[100vw] h-[100vh] bg-[#1b1818c7] flex justify-center items-center",children:(0,r.jsxs)("section",{className:"fixed h-auto min-w-[20vw] bg-white rounded-lg p-4 ",children:[(0,r.jsx)("div",{onClick:e.close,className:"mobile:hidden mobile:-top-10 absolute p-2 bg-slate-300 rounded-full -top-6 -right-6 hover:scale-105 border border-dotted border-black",children:(0,r.jsx)("img",{className:"",width:"",src:i.A,alt:"modal Close Btn"})}),a.Children.map(e.children,(t=>a.cloneElement(t,e)))]})})}}}]);