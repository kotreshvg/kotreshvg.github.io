"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[550],{7644:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});var r=a(4165),s=a(5861),n=a(4942),o=a(1413),i=a(9439),l=a(7313),d=a(6581),c=a(1973),m=a.p+"static/media/signup.a310ed147446f40296dd.png",u=a.p+"static/media/Signin.4b725f5d9dc55b2e3cd9.png",h=a(1577);a.p;var p=a(6417),x=a(4319),f=a(1391),g=a(3392),w=a(3262),b=a(6325),v=a(4873),y=a(1830),j=a(9864),N=a(6371),Z=a(804),k=a(9284),T=a.n(k),S=a(8467),C=a(6056),U=function(e){var t=(0,l.useState)({firstName:"",lastName:"",gender:"Male",DOB:"",email:"",mobile:"",username:"",password:"",confirmPassword:void 0,resetToken:"",resetTokenVerified:void 0,signUpState:void 0,mode:"SignUp",alertMsg:void 0,alertType:void 0,alertDuration:void 0,redirect:void 0,resetModalOpen:!1}),a=(0,i.Z)(t,2),k=a[0],U=a[1],P=(0,g.v9)((function(e){return e.globalState.device})),M=function(e){switch(e.target.name){case"firstName":case"lastName":if(!w.N.characterOnly(e.target.value))return;break;case"mobile":case"resetToken":if(!w.N.numerOnly(e.target.value))return;break;case"username":if(!w.N.checkUserNameFormat(e.target.value))return}U((0,o.Z)((0,o.Z)({},k),{},(0,n.Z)({},e.target.name,e.target.value)))};(0,l.useEffect)((function(){(0,v.yt)({eventType:"PageLoad"}),(0,b.EU)().then((function(e){j.Z.dispatch((0,N.O9)({pubKey:e.data.publicKey}))})).catch((function(e){}))}),[]);var D=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,y.Yi)(48),e.t0=v.C8,e.t1=o.Z,e.t2=(0,o.Z)({},t),e.t3={},e.next=7,(0,y.Qo)(a);case 7:return e.t4=e.sent,e.t5={secret:e.t4},e.t6=(0,e.t1)(e.t2,e.t3,e.t5),e.t7={data:e.t6},e.abrupt("return",e.t0.post.call(e.t0,"/user/gauth",e.t7).then((function(e){var t=JSON.parse((0,y.uq)(e.data,a));C.ZP.success("Fetched details from Google, fill remaining fields",{duration:5e3}),U((function(e){return(0,o.Z)((0,o.Z)({},e),{},{firstName:t.firstname,lastName:t.lastname,email:t.email})}))})).catch((function(e){C.ZP.error("Failed to fetch details",{duration:5e3})})));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){window.google.accounts.id.initialize({client_id:"1006369261107-2qm00p8olfg16dm0ffs9cp23qeg4rrsv.apps.googleusercontent.com",callback:D,context:"signup"}),window.google.accounts.id.renderButton(document.getElementById("Gsignup"),{type:"standard",shape:"circle",click_listener:function(){}}),window.google.accounts.id.prompt()}),[]),(0,p.jsxs)("div",{className:"",children:[(0,p.jsxs)("div",{className:"h-[100vh] w-full bg-gradient-to-br from-[#000000] to-[#0414BD] mobile:h-fit",children:[(0,p.jsx)(d.Z,{}),(0,p.jsx)(x.Z,{}),(0,p.jsx)(C.x7,{}),k.alertMsg&&(0,p.jsx)(f.Z,{text:k.alertMsg,timeOut:k.alertDuration,callBack:function(){U((0,o.Z)((0,o.Z)({},k),{},{alertMsg:void 0,alertType:void 0}))},type:k.alertType}),k.redirect&&(0,p.jsx)(S.Fg,{to:k.redirect,replace:!1}),(0,p.jsxs)("div",{style:{width:"SignUp"==k.mode||"mobile"==P?"80vw":"60vw"},className:"h-[75vh] w-[80vw] flex mx-auto my-6 bg-[#ffffff1f] mobile:bg-transparent rounded-xl  shadow-md shadow-[#0414BD mobile:flex-col mobile:h-fit",children:[(0,p.jsx)("div",{className:"min-w-fit mr-4 mobile:m-0 mobile:h-[20vh] mobile:overflow-hidden",children:(0,p.jsx)("img",{src:"SignUp"==k.mode?m:u,alt:"signup image",className:"h-[100%] rounded-tl-xl mobile:rounded-t-xl rounded-bl-xl mobile:rounded-b-none mobile:w-full mobile:h-max"})}),(0,p.jsxs)("div",{style:{display:"SignUp"==k.mode?"":"none"},className:"w-[100%] h-[80%] grid grid-cols-2 grid-rows-6 gap-4 mr-4 mobile:grid-cols-1 mobile:gap-0",children:[(0,p.jsxs)("h2",{className:"text-3xl text-white mobile:hidden",children:["Register ",(0,p.jsx)("span",{className:"text-xs",children:"* is mandatory field"})]}),(0,p.jsxs)("p",{className:"text-white text-xs",children:["Have account ? Go to",(0,p.jsx)("button",{onClick:function(){U((0,o.Z)((0,o.Z)({},k),{},{mode:"SignIn"})),(0,b.w5)().then((function(e){U((0,o.Z)((0,o.Z)({},k),{},{redirect:"/"}))})).catch((function(e){}))},className:"text-white mx-2 w-1/4 py-2 rounded-md  bg-gradient-to-r from-[#23a50a] to-[#060c6b]",children:"Sign In"})]}),(0,p.jsxs)("div",{className:" col-start-1",children:[(0,p.jsx)("p",{className:"text-white text-xs mt-2",children:"First Name*"}),(0,p.jsx)("input",{onChange:M,name:"firstName",value:k.firstName,className:"border border-Primary rounded-md p-1 text-sm shadow-md w-full focus:outline-none",type:"text",maxLength:20,placeholder:"vivek"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-white text-xs mt-2",children:"Last Name*"}),(0,p.jsx)("input",{onChange:M,name:"lastName",value:k.lastName,className:"border border-Primary rounded-md p-1 text-sm shadow-md w-full focus:outline-none",type:"text",maxLength:20,placeholder:"chowdary"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-white text-xs mt-2",children:"Gender*"}),(0,p.jsxs)("select",{onChange:M,name:"gender",value:k.gender,className:"border border-Primary rounded-md p-1 text-sm shadow-md w-full focus:outline-none",children:[(0,p.jsx)("option",{value:"Male",children:"Male"}),(0,p.jsx)("option",{value:"Female",children:"Female"}),(0,p.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-white text-xs mt-2",children:"DOB*"}),(0,p.jsx)("input",{onChange:M,name:"DOB",value:k.DOB,className:"border border-Primary rounded-md p-1 text-sm shadow-md w-full focus:outline-none",type:"date"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-white text-xs mt-2",children:"Email*"}),(0,p.jsx)("input",{onChange:M,name:"email",value:k.email,className:"border border-Primary rounded-md p-1 text-sm shadow-md w-full focus:outline-none",type:"email",maxLength:30,placeholder:"vivek@email.com"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-white text-xs mt-2",children:"mobile*"}),(0,p.jsx)("input",{onChange:M,name:"mobile",value:k.mobile,className:"border border-Primary rounded-md p-1 text-sm shadow-md w-full focus:outline-none",type:"tel",maxLength:10})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-white text-xs mt-2",children:"User Name*"}),(0,p.jsx)("input",{onChange:M,name:"username",value:k.username,className:"border border-Primary rounded-md p-1 text-sm shadow-md w-full focus:outline-none",type:"text",maxLength:20,placeholder:"vivek_chowdary"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-white text-xs mt-2",children:"Password*"}),(0,p.jsx)("input",{onChange:M,name:"password",value:k.password,className:"border border-Primary rounded-md p-1 text-sm shadow-md w-full focus:outline-none",type:"password",maxLength:20,placeholder:"min 8 max 20 characters"})]}),(0,p.jsx)("div",{className:"row-start-7 flex justify-end",children:(0,p.jsx)("div",{id:"Gsignup"})}),(0,p.jsx)("div",{className:"col-start-2 mobile:col-start-1 row-start-7 mobile:row-start-auto mobile:mt-2 w-full",children:(0,p.jsx)("button",{onClick:function(){!function(){U((0,o.Z)((0,o.Z)({},k),{},{signUpState:"initiated"}));var e=k.firstName,t=k.lastName,a=k.email,r=k.mobile,s=k.username,n=k.password,i=k.DOB,l=k.gender;if("SignUp"===k.mode&&e.length&&t.length&&w.N.emailFormat(a)&&10===r.length&&s.length){(0,v.yt)({eventType:"buttonclick",triggerelement:k.mode});var d={firstname:e,lastname:t,gender:l,email:a,dob:i,mobile:r,username:s,password:n};(0,y.Qo)(d).then((function(e){(0,b.r4)(e).then((function(e){U((0,o.Z)((0,o.Z)({},k),{},{alertMsg:e.data.reason,alertType:e.data.status?"success":"error",alertDuration:5e3,signUpState:void 0}))})).catch((function(e){e.data=e.response.data,U((0,o.Z)((0,o.Z)({},k),{},{alertMsg:e.data.reason,alertType:e.data.status?"success":"error",alertDuration:5e3,signUpState:void 0}))}))}))}else U((0,o.Z)((0,o.Z)({},k),{},{alertMsg:"All fields are mandatory, please fill and verify all fields",alertType:"warning",alertDuration:5e3,signUpState:void 0}))}()},className:"bg-gradient-to-r from-[#000000] to-[#0414BD] w-full rounded-md p-2 h-full text-white font-extrabold animate-bounce mobile:animate-none hover:animate-none",children:void 0==k.signUpState?(0,p.jsx)("p",{children:"Sign Up \u290d"}):(0,p.jsx)(h.Z,{size:6,message:"Wait a moment :)",color:"white"})})})]}),(0,p.jsxs)("div",{style:{display:"SignIn"==k.mode?"":"none"},className:"w-[100%] h-[80%] grid grid-cols-1 grid-rows-6 gap-4 mr-4",children:[(0,p.jsxs)("p",{className:"text-white text-xs",children:["Don't have account ? Go to",(0,p.jsx)("button",{onClick:function(){return U((0,o.Z)((0,o.Z)({},k),{},{mode:"SignUp"}))},className:"text-white mx-2 w-1/4 py-2 rounded-md  bg-gradient-to-r from-[#23a50a] to-[#060c6b]",children:"Sign Up"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-white text-xs mt-2",children:"User Name"}),(0,p.jsx)("input",{type:"text",onChange:M,name:"username",value:k.username,placeholder:"gauravSingh",className:"border border-Primary rounded-md p-1 text-sm shadow-md w-full focus:outline-none"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-white text-xs mt-2",children:"Password"}),(0,p.jsx)("input",{type:"password",onChange:M,name:"password",value:k.password,placeholder:"********",className:"border border-Primary rounded-md p-1 text-sm shadow-md w-full focus:outline-none"})]}),(0,p.jsx)("div",{className:"row-start-6 mobile:row-start-auto w-full",children:(0,p.jsx)("button",{onClick:function(){!function(){U((0,o.Z)((0,o.Z)({},k),{},{signUpState:"initiated"}));var e=k.username,t=k.password;if("SignIn"===k.mode&&e.length&&t.length){(0,v.yt)({eventType:"buttonclick",triggerelement:k.mode});var a={type:"password",username:e,password:t};(0,y.Qo)(a).then((function(e){(0,b.pH)(e).then((function(e){localStorage.setItem("authToken",e.data.accesstoken),localStorage.setItem("refreshToken",e.data.refreshtoken),localStorage.setItem("userName",k.username),j.Z.dispatch((0,Z.gT)((0,o.Z)((0,o.Z)({},e.data),{},{username:k.username}))),U((0,o.Z)((0,o.Z)({},k),{},{alertMsg:e.data.reason,alertType:e.data.status?"success":"error",alertDuration:5e3,signUpState:void 0,redirect:e.data.status?"/":""}))})).catch((function(e){e.data=e.response.data,U((0,o.Z)((0,o.Z)({},k),{},{alertMsg:e.data.reason,alertType:e.data.status?"success":"error",alertDuration:5e3,signUpState:void 0}))}))})).catch((function(e){console.log("could not process")}))}else U((0,o.Z)((0,o.Z)({},k),{},{alertMsg:"All fields are mandatory, please fill and verify all fields",alertType:"warning",alertDuration:5e3,signUpState:void 0}))}()},className:"bg-gradient-to-r from-[#000000] to-[#0414BD] w-full rounded-md p-2 h-full text-white font-extrabold animate-bounce hover:animate-none mobile:animate-none",children:void 0==k.signUpState?(0,p.jsx)("p",{children:"Sign In \u290d"}):(0,p.jsx)(h.Z,{size:6,message:"Wait a moment :)",color:"white"})})}),(0,p.jsxs)("div",{className:"row-start-7 flex justify-between mobile:row-start-auto text-xs text-white underline cursor-pointer w-full",children:[(0,p.jsx)("span",{onClick:function(){k.username&&k.username.length?(0,b._I)(k.username).then((function(e){U((0,o.Z)((0,o.Z)({},k),{},{alertMsg:e.data.reason,alertType:e.data.status?"success":"error",alertDuration:5e3,signUpState:void 0}))})).catch((function(e){e.data=e.response.data,U((0,o.Z)((0,o.Z)({},k),{},{alertMsg:e.data.reason,alertType:e.data.status?"success":"error",alertDuration:5e3,signUpState:void 0}))})):U((0,o.Z)((0,o.Z)({},k),{},{alertMsg:"UserName is required for password reset",alertType:"warning",alertDuration:5e3,signUpState:void 0}))},children:"Reset Password"}),(0,p.jsx)("span",{onClick:function(){U((0,o.Z)((0,o.Z)({},k),{},{resetModalOpen:!0}))},children:"Verify Token"})]})]})]})]}),(0,p.jsxs)(T(),{isOpen:k.resetModalOpen,shouldCloseOnOverlayClick:!0,style:{content:{top:"50%",left:"50%",right:"auto",width:"mobile"==P?"100%":"40%",height:"40%",bottom:"auto",transform:"translate(-50%, -50%)",backgroundColor:"#E6E6F9"},overlay:{backgroundColor:"#3C3838",opacity:.97}},children:[(0,p.jsxs)("header",{className:" flex justify-between bg-Primary-500",children:[(0,p.jsx)("h2",{children:"Verify Reset Token"}),(0,p.jsx)("button",{onClick:function(){U((0,o.Z)((0,o.Z)({},k),{},{resetModalOpen:!1}))},children:(0,p.jsx)("img",{src:c.Z})})]}),!k.resetTokenVerified&&(0,p.jsxs)("div",{className:"h-[70%] w-full flex flex-col items-center justify-center",children:[(0,p.jsx)("p",{style:{color:5==k.resetToken.length?"green":"red"},className:"text-xs",children:5==k.resetToken.length?"click on Verify button":"Enter five digit reset token"}),(0,p.jsx)("input",{onChange:function(e){return M(e)},name:"resetToken",value:k.resetToken,className:"border border-Primary rounded-md p-2 text-center shadow-md w-1/3 h-10 font-bold text-lg focus:outline-none",type:"text",maxLength:5}),!1===k.resetTokenVerified?(0,p.jsx)("p",{className:"text-xs text-red",children:"Cannot Verify reset token, please enter correct number"}):"",(0,p.jsx)("button",{onClick:function(){k.resetToken.length&&w.N.numerOnly(k.resetToken)&&(0,b.nu)({userName:k.username,token:k.resetToken}).then((function(e){U((0,o.Z)((0,o.Z)({},k),{},{resetTokenVerified:e.data.status,alertMsg:e.data.reason,alertType:e.data.status?"success":"error",alertDuration:5e3,signUpState:void 0}))})).catch((function(e){e.data=e.response.data,U((0,o.Z)((0,o.Z)({},k),{},{resetTokenVerified:e.data.status,alertMsg:e.data.reason,alertType:e.data.status?"success":"error",alertDuration:5e3,signUpState:void 0}))}))},className:"text-white w-1/4 py-1 mt-8 rounded-md  bg-gradient-to-r from-[#23a50a] to-[#060c6b]",children:"Verify"})]}),k.resetTokenVerified&&(0,p.jsxs)("div",{className:"h-[70%] w-full flex flex-col items-center justify-center",children:[(0,p.jsx)("p",{style:{color:5==k.resetToken.length?"green":"red"},className:"text-xs",children:"Enter New password"}),(0,p.jsx)("input",{onChange:function(e){return M(e)},name:"password",value:k.password,className:"border border-Primary rounded-md p-2 text-center shadow-md w-2/3 h-10 font-bold text-lg focus:outline-none",type:"text"}),k.confirmPassword&&k.confirmPassword!==k.password?(0,p.jsx)("p",{className:"text-xs text-crimson",children:"Password Not Matching"}):"",(0,p.jsx)("input",{onChange:function(e){return M(e)},name:"confirmPassword",value:k.confirmPassword,className:"border border-Primary rounded-md p-2 text-center shadow-md w-2/3 h-10 font-bold text-lg focus:outline-none",type:"text"}),(0,p.jsx)("button",{onClick:function(){var e=k.username,t=k.password,a=k.confirmPassword,r=k.resetTokenVerified,s=k.resetToken;if(e&&w.N.checkUserNameFormat(e)&&t.length&&t===a&&r){var n={username:e,token:s,password:t};(0,y.Qo)(n).then((function(e){(0,b.F4)(e).then((function(e){U((0,o.Z)((0,o.Z)({},k),{},{resetTokenVerified:void 0,alertMsg:e.data.reason,alertType:e.data.status?"success":"error",alertDuration:5e3,signUpState:void 0,resetModalOpen:!e.data.status}))})).catch((function(e){e.data=e.response.data,U((0,o.Z)((0,o.Z)({},k),{},{alertMsg:e.data.reason,alertType:e.data.status?"success":"error",alertDuration:5e3,signUpState:void 0}))}))}))}},className:"text-white w-1/2 py-1 mt-8 rounded-md  bg-gradient-to-r from-[#23a50a] to-[#060c6b]",children:"Reset Password"})]})]})]})}},1577:function(e,t,a){a(7313);var r=a(6417);t.Z=function(e){return(0,r.jsxs)("div",{className:"h-full flex \r justify-around items-center",children:[(0,r.jsx)("div",{style:{height:"".concat(e.size?String(parseInt(e.size)/4)+"rem":"1.5rem"),width:"".concat(e.size?String(parseInt(e.size)/4)+"rem":"1.5rem"),borderColor:"".concat(e.color?e.color:"#2B7E38")},className:"border-x-0\r border-t-0 border-b-2 border-green\r duration-500 rounded-full animate-spin"}),e.message&&(0,r.jsx)("p",{className:" text-xs",children:e.message})]})}}}]);